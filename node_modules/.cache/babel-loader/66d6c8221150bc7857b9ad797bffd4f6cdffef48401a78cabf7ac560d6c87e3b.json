{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs3/helpers/interopRequireWildcard\");\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getState = getState;\nexports.initializeState = initializeState;\nexports.removeState = removeState;\nexports.getServerData = getServerData;\nexports.setServerData = setServerData;\nexports.getPendingOps = getPendingOps;\nexports.setPendingOp = setPendingOp;\nexports.pushPendingState = pushPendingState;\nexports.popPendingState = popPendingState;\nexports.mergeFirstPendingState = mergeFirstPendingState;\nexports.getObjectCache = getObjectCache;\nexports.estimateAttribute = estimateAttribute;\nexports.estimateAttributes = estimateAttributes;\nexports.commitServerChanges = commitServerChanges;\nexports.enqueueTask = enqueueTask;\nexports.clearAllState = clearAllState;\nexports.duplicateState = duplicateState;\nvar ObjectStateMutations = _interopRequireWildcard(require(\"./ObjectStateMutations\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\nvar objectState\n/*: {\n  [className: string]: {\n    [id: string]: State,\n  },\n}*/ = {};\nfunction getState(obj\n/*: ObjectIdentifier*/) /*: ?State*/\n{\n  var classData = objectState[obj.className];\n  if (classData) {\n    return classData[obj.id] || null;\n  }\n  return null;\n}\nfunction initializeState(obj\n/*: ObjectIdentifier*/, initial\n/*:: ?: State*/) /*: State*/\n{\n  var state = getState(obj);\n  if (state) {\n    return state;\n  }\n  if (!objectState[obj.className]) {\n    objectState[obj.className] = {};\n  }\n  if (!initial) {\n    initial = ObjectStateMutations.defaultState();\n  }\n  state = objectState[obj.className][obj.id] = initial;\n  return state;\n}\nfunction removeState(obj\n/*: ObjectIdentifier*/) /*: ?State*/\n{\n  var state = getState(obj);\n  if (state === null) {\n    return null;\n  }\n  delete objectState[obj.className][obj.id];\n  return state;\n}\nfunction getServerData(obj\n/*: ObjectIdentifier*/) /*: AttributeMap*/\n{\n  var state = getState(obj);\n  if (state) {\n    return state.serverData;\n  }\n  return {};\n}\nfunction setServerData(obj\n/*: ObjectIdentifier*/, attributes\n/*: AttributeMap*/) {\n  var serverData = initializeState(obj).serverData;\n  ObjectStateMutations.setServerData(serverData, attributes);\n}\nfunction getPendingOps(obj\n/*: ObjectIdentifier*/) /*: Array<OpsMap>*/\n{\n  var state = getState(obj);\n  if (state) {\n    return state.pendingOps;\n  }\n  return [{}];\n}\nfunction setPendingOp(obj\n/*: ObjectIdentifier*/, attr\n/*: string*/, op\n/*: ?Op*/) {\n  var pendingOps = initializeState(obj).pendingOps;\n  ObjectStateMutations.setPendingOp(pendingOps, attr, op);\n}\nfunction pushPendingState(obj\n/*: ObjectIdentifier*/) {\n  var pendingOps = initializeState(obj).pendingOps;\n  ObjectStateMutations.pushPendingState(pendingOps);\n}\nfunction popPendingState(obj\n/*: ObjectIdentifier*/) /*: OpsMap*/\n{\n  var pendingOps = initializeState(obj).pendingOps;\n  return ObjectStateMutations.popPendingState(pendingOps);\n}\nfunction mergeFirstPendingState(obj\n/*: ObjectIdentifier*/) {\n  var pendingOps = getPendingOps(obj);\n  ObjectStateMutations.mergeFirstPendingState(pendingOps);\n}\nfunction getObjectCache(obj\n/*: ObjectIdentifier*/) /*: ObjectCache*/\n{\n  var state = getState(obj);\n  if (state) {\n    return state.objectCache;\n  }\n  return {};\n}\nfunction estimateAttribute(obj\n/*: ObjectIdentifier*/, attr\n/*: string*/) /*: mixed*/\n{\n  var serverData = getServerData(obj);\n  var pendingOps = getPendingOps(obj);\n  return ObjectStateMutations.estimateAttribute(serverData, pendingOps, obj.className, obj.id, attr);\n}\nfunction estimateAttributes(obj\n/*: ObjectIdentifier*/) /*: AttributeMap*/\n{\n  var serverData = getServerData(obj);\n  var pendingOps = getPendingOps(obj);\n  return ObjectStateMutations.estimateAttributes(serverData, pendingOps, obj.className, obj.id);\n}\nfunction commitServerChanges(obj\n/*: ObjectIdentifier*/, changes\n/*: AttributeMap*/) {\n  var state = initializeState(obj);\n  ObjectStateMutations.commitServerChanges(state.serverData, state.objectCache, changes);\n}\nfunction enqueueTask(obj\n/*: ObjectIdentifier*/, task\n/*: () => Promise*/) /*: Promise*/\n{\n  var state = initializeState(obj);\n  return state.tasks.enqueue(task);\n}\nfunction clearAllState() {\n  objectState = {};\n}\nfunction duplicateState(source\n/*: { id: string }*/, dest\n/*: { id: string }*/) {\n  dest.id = source.id;\n}","map":{"version":3,"names":["_interopRequireWildcard","require","_Object$defineProperty","exports","value","getState","initializeState","removeState","getServerData","setServerData","getPendingOps","setPendingOp","pushPendingState","popPendingState","mergeFirstPendingState","getObjectCache","estimateAttribute","estimateAttributes","commitServerChanges","enqueueTask","clearAllState","duplicateState","ObjectStateMutations","objectState","obj","classData","className","id","initial","state","defaultState","serverData","attributes","pendingOps","attr","op","objectCache","changes","task","tasks","enqueue","source","dest"],"sources":["C:/Users/chtdu/Documents/WEB DEV/git-repo/react-webpack8/node_modules/parse/lib/browser/SingleInstanceStateController.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs3/helpers/interopRequireWildcard\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.getState = getState;\nexports.initializeState = initializeState;\nexports.removeState = removeState;\nexports.getServerData = getServerData;\nexports.setServerData = setServerData;\nexports.getPendingOps = getPendingOps;\nexports.setPendingOp = setPendingOp;\nexports.pushPendingState = pushPendingState;\nexports.popPendingState = popPendingState;\nexports.mergeFirstPendingState = mergeFirstPendingState;\nexports.getObjectCache = getObjectCache;\nexports.estimateAttribute = estimateAttribute;\nexports.estimateAttributes = estimateAttributes;\nexports.commitServerChanges = commitServerChanges;\nexports.enqueueTask = enqueueTask;\nexports.clearAllState = clearAllState;\nexports.duplicateState = duplicateState;\n\nvar ObjectStateMutations = _interopRequireWildcard(require(\"./ObjectStateMutations\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n\nvar objectState\n/*: {\n  [className: string]: {\n    [id: string]: State,\n  },\n}*/\n= {};\n\nfunction getState(obj\n/*: ObjectIdentifier*/\n)\n/*: ?State*/\n{\n  var classData = objectState[obj.className];\n\n  if (classData) {\n    return classData[obj.id] || null;\n  }\n\n  return null;\n}\n\nfunction initializeState(obj\n/*: ObjectIdentifier*/\n, initial\n/*:: ?: State*/\n)\n/*: State*/\n{\n  var state = getState(obj);\n\n  if (state) {\n    return state;\n  }\n\n  if (!objectState[obj.className]) {\n    objectState[obj.className] = {};\n  }\n\n  if (!initial) {\n    initial = ObjectStateMutations.defaultState();\n  }\n\n  state = objectState[obj.className][obj.id] = initial;\n  return state;\n}\n\nfunction removeState(obj\n/*: ObjectIdentifier*/\n)\n/*: ?State*/\n{\n  var state = getState(obj);\n\n  if (state === null) {\n    return null;\n  }\n\n  delete objectState[obj.className][obj.id];\n  return state;\n}\n\nfunction getServerData(obj\n/*: ObjectIdentifier*/\n)\n/*: AttributeMap*/\n{\n  var state = getState(obj);\n\n  if (state) {\n    return state.serverData;\n  }\n\n  return {};\n}\n\nfunction setServerData(obj\n/*: ObjectIdentifier*/\n, attributes\n/*: AttributeMap*/\n) {\n  var serverData = initializeState(obj).serverData;\n  ObjectStateMutations.setServerData(serverData, attributes);\n}\n\nfunction getPendingOps(obj\n/*: ObjectIdentifier*/\n)\n/*: Array<OpsMap>*/\n{\n  var state = getState(obj);\n\n  if (state) {\n    return state.pendingOps;\n  }\n\n  return [{}];\n}\n\nfunction setPendingOp(obj\n/*: ObjectIdentifier*/\n, attr\n/*: string*/\n, op\n/*: ?Op*/\n) {\n  var pendingOps = initializeState(obj).pendingOps;\n  ObjectStateMutations.setPendingOp(pendingOps, attr, op);\n}\n\nfunction pushPendingState(obj\n/*: ObjectIdentifier*/\n) {\n  var pendingOps = initializeState(obj).pendingOps;\n  ObjectStateMutations.pushPendingState(pendingOps);\n}\n\nfunction popPendingState(obj\n/*: ObjectIdentifier*/\n)\n/*: OpsMap*/\n{\n  var pendingOps = initializeState(obj).pendingOps;\n  return ObjectStateMutations.popPendingState(pendingOps);\n}\n\nfunction mergeFirstPendingState(obj\n/*: ObjectIdentifier*/\n) {\n  var pendingOps = getPendingOps(obj);\n  ObjectStateMutations.mergeFirstPendingState(pendingOps);\n}\n\nfunction getObjectCache(obj\n/*: ObjectIdentifier*/\n)\n/*: ObjectCache*/\n{\n  var state = getState(obj);\n\n  if (state) {\n    return state.objectCache;\n  }\n\n  return {};\n}\n\nfunction estimateAttribute(obj\n/*: ObjectIdentifier*/\n, attr\n/*: string*/\n)\n/*: mixed*/\n{\n  var serverData = getServerData(obj);\n  var pendingOps = getPendingOps(obj);\n  return ObjectStateMutations.estimateAttribute(serverData, pendingOps, obj.className, obj.id, attr);\n}\n\nfunction estimateAttributes(obj\n/*: ObjectIdentifier*/\n)\n/*: AttributeMap*/\n{\n  var serverData = getServerData(obj);\n  var pendingOps = getPendingOps(obj);\n  return ObjectStateMutations.estimateAttributes(serverData, pendingOps, obj.className, obj.id);\n}\n\nfunction commitServerChanges(obj\n/*: ObjectIdentifier*/\n, changes\n/*: AttributeMap*/\n) {\n  var state = initializeState(obj);\n  ObjectStateMutations.commitServerChanges(state.serverData, state.objectCache, changes);\n}\n\nfunction enqueueTask(obj\n/*: ObjectIdentifier*/\n, task\n/*: () => Promise*/\n)\n/*: Promise*/\n{\n  var state = initializeState(obj);\n  return state.tasks.enqueue(task);\n}\n\nfunction clearAllState() {\n  objectState = {};\n}\n\nfunction duplicateState(source\n/*: { id: string }*/\n, dest\n/*: { id: string }*/\n) {\n  dest.id = source.id;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}