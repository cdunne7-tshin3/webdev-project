{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs3/helpers/interopRequireWildcard\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\nvar _getIterator = require(\"@babel/runtime-corejs3/core-js/get-iterator\");\nvar _Array$isArray2 = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\nvar _Object$defineProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _Object$defineProperties = require(\"@babel/runtime-corejs3/core-js-stable/object/define-properties\");\nvar _Object$getOwnPropertyDescriptors = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors\");\nvar _forEachInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\");\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\nvar _filterInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\");\nvar _Object$getOwnPropertySymbols = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols\");\nvar _Object$keys2 = require(\"@babel/runtime-corejs3/core-js-stable/object/keys\");\n_Object$defineProperty2(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\"));\nvar _create = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/create\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\nvar _getPrototypeOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/get-prototype-of\"));\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\nvar _freeze = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/freeze\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\nvar _defineProperty3 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _canBeSerialized = _interopRequireDefault(require(\"./canBeSerialized\"));\nvar _decode = _interopRequireDefault(require(\"./decode\"));\nvar _encode = _interopRequireDefault(require(\"./encode\"));\nvar _escape2 = _interopRequireDefault(require(\"./escape\"));\nvar _EventuallyQueue = _interopRequireDefault(require(\"./EventuallyQueue\"));\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\nvar _parseDate = _interopRequireDefault(require(\"./parseDate\"));\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\nvar _promiseUtils = require(\"./promiseUtils\");\nvar _LocalDatastoreUtils = require(\"./LocalDatastoreUtils\");\nvar _ParseOp = require(\"./ParseOp\");\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\nvar SingleInstanceStateController = _interopRequireWildcard(require(\"./SingleInstanceStateController\"));\nvar _unique = _interopRequireDefault(require(\"./unique\"));\nvar UniqueInstanceStateController = _interopRequireWildcard(require(\"./UniqueInstanceStateController\"));\nvar _unsavedChildren = _interopRequireDefault(require(\"./unsavedChildren\"));\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n  if (typeof _Symbol === \"undefined\" || _getIteratorMethod(o) == null) {\n    if (_Array$isArray2(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = _getIterator(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context18;\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = _sliceInstanceProperty(_context18 = Object.prototype.toString.call(o)).call(_context18, 8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = _Object$keys2(object);\n  if (_Object$getOwnPropertySymbols) {\n    var symbols = _Object$getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) {\n      return _Object$getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      var _context16;\n      _forEachInstanceProperty2(_context16 = ownKeys(Object(source), true)).call(_context16, function (key) {\n        (0, _defineProperty3.default)(target, key, source[key]);\n      });\n    } else if (_Object$getOwnPropertyDescriptors) {\n      _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source));\n    } else {\n      var _context17;\n      _forEachInstanceProperty2(_context17 = ownKeys(Object(source))).call(_context17, function (key) {\n        _Object$defineProperty2(target, key, _Object$getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nvar uuidv4 = require('uuid/v4');\n/*:: export type Pointer = {\n  __type: string,\n  className: string,\n  objectId: string,\n};*/\n\n/*:: type SaveParams = {\n  method: string,\n  path: string,\n  body: AttributeMap,\n};*/\n\n/*:: export type SaveOptions = FullOptions & {\n  cascadeSave?: boolean,\n  context?: AttributeMap,\n};*/\n// Mapping of class names to constructors, so we can populate objects from the\n// server with appropriate subclasses of ParseObject\n\nvar classMap = {}; // Global counter for generating unique Ids for non-single-instance objects\n\nvar objectCount = 0; // On web clients, objects are single-instance: any two objects with the same Id\n// will have the same attributes. However, this may be dangerous default\n// behavior in a server scenario\n\nvar singleInstance = !_CoreManager.default.get('IS_NODE');\nif (singleInstance) {\n  _CoreManager.default.setObjectStateController(SingleInstanceStateController);\n} else {\n  _CoreManager.default.setObjectStateController(UniqueInstanceStateController);\n}\nfunction getServerUrlPath() {\n  var serverUrl = _CoreManager.default.get('SERVER_URL');\n  if (serverUrl[serverUrl.length - 1] !== '/') {\n    serverUrl += '/';\n  }\n  var url = serverUrl.replace(/https?:\\/\\//, '');\n  return url.substr((0, _indexOf.default)(url).call(url, '/'));\n}\n/**\n * Creates a new model with defined attributes.\n *\n * <p>You won't normally call this method directly.  It is recommended that\n * you use a subclass of <code>Parse.Object</code> instead, created by calling\n * <code>extend</code>.</p>\n *\n * <p>However, if you don't want to use a subclass, or aren't sure which\n * subclass is appropriate, you can use this form:<pre>\n *     var object = new Parse.Object(\"ClassName\");\n * </pre>\n * That is basically equivalent to:<pre>\n *     var MyClass = Parse.Object.extend(\"ClassName\");\n *     var object = new MyClass();\n * </pre></p>\n *\n * @alias Parse.Object\n */\n\nvar ParseObject = /*#__PURE__*/function () {\n  /**\n   * @param {string} className The class name for the object\n   * @param {object} attributes The initial set of data to store in the object.\n   * @param {object} options The options for this object instance.\n   */\n  function ParseObject(className\n  /*: ?string | { className: string, [attr: string]: mixed }*/, attributes\n  /*:: ?: { [attr: string]: mixed }*/, options\n  /*:: ?: { ignoreValidation: boolean }*/) {\n    (0, _classCallCheck2.default)(this, ParseObject);\n    (0, _defineProperty3.default)(this, \"id\", void 0);\n    (0, _defineProperty3.default)(this, \"_localId\", void 0);\n    (0, _defineProperty3.default)(this, \"_objCount\", void 0);\n    (0, _defineProperty3.default)(this, \"className\", void 0); // Enable legacy initializers\n\n    if (typeof this.initialize === 'function') {\n      this.initialize.apply(this, arguments);\n    }\n    var toSet = null;\n    this._objCount = objectCount++;\n    if (typeof className === 'string') {\n      this.className = className;\n      if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n        toSet = attributes;\n      }\n    } else if (className && (0, _typeof2.default)(className) === 'object') {\n      this.className = className.className;\n      toSet = {};\n      for (var _attr in className) {\n        if (_attr !== 'className') {\n          toSet[_attr] = className[_attr];\n        }\n      }\n      if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n        options = attributes;\n      }\n    }\n    if (toSet && !this.set(toSet, options)) {\n      throw new Error(\"Can't create an invalid Parse Object\");\n    }\n  }\n  /**\n   * The ID of this object, unique within its class.\n   *\n   * @property {string} id\n   */\n\n  (0, _createClass2.default)(ParseObject, [{\n    key: \"attributes\",\n    get: /** Prototype getters / setters **/\n    function () /*: AttributeMap*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n      return (0, _freeze.default)(stateController.estimateAttributes(this._getStateIdentifier()));\n    }\n    /**\n     * The first time this object was saved on the server.\n     *\n     * @property {Date} createdAt\n     * @returns {Date}\n     */\n  }, {\n    key: \"createdAt\",\n    get: function () /*: ?Date*/\n    {\n      return this._getServerData().createdAt;\n    }\n    /**\n     * The last time this object was updated on the server.\n     *\n     * @property {Date} updatedAt\n     * @returns {Date}\n     */\n  }, {\n    key: \"updatedAt\",\n    get: function () /*: ?Date*/\n    {\n      return this._getServerData().updatedAt;\n    }\n    /** Private methods **/\n\n    /**\n     * Returns a local or server Id used uniquely identify this object\n     *\n     * @returns {string}\n     */\n  }, {\n    key: \"_getId\",\n    value: function () /*: string*/\n    {\n      if (typeof this.id === 'string') {\n        return this.id;\n      }\n      if (typeof this._localId === 'string') {\n        return this._localId;\n      }\n      var localId = 'local' + uuidv4();\n      this._localId = localId;\n      return localId;\n    }\n    /**\n     * Returns a unique identifier used to pull data from the State Controller.\n     *\n     * @returns {Parse.Object|object}\n     */\n  }, {\n    key: \"_getStateIdentifier\",\n    value: function () /*: ParseObject | { id: string, className: string }*/\n    {\n      if (singleInstance) {\n        var id = this.id;\n        if (!id) {\n          id = this._getId();\n        }\n        return {\n          id: id,\n          className: this.className\n        };\n      } else {\n        return this;\n      }\n    }\n  }, {\n    key: \"_getServerData\",\n    value: function () /*: AttributeMap*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n      return stateController.getServerData(this._getStateIdentifier());\n    }\n  }, {\n    key: \"_clearServerData\",\n    value: function () {\n      var serverData = this._getServerData();\n      var unset = {};\n      for (var _attr2 in serverData) {\n        unset[_attr2] = undefined;\n      }\n      var stateController = _CoreManager.default.getObjectStateController();\n      stateController.setServerData(this._getStateIdentifier(), unset);\n    }\n  }, {\n    key: \"_getPendingOps\",\n    value: function () /*: Array<OpsMap>*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n      return stateController.getPendingOps(this._getStateIdentifier());\n    }\n    /**\n     * @param {Array<string>} [keysToClear] - if specified, only ops matching\n     * these fields will be cleared\n     */\n  }, {\n    key: \"_clearPendingOps\",\n    value: function (keysToClear\n    /*:: ?: Array<string>*/) {\n      var pending = this._getPendingOps();\n      var latest = pending[pending.length - 1];\n      var keys = keysToClear || (0, _keys.default)(latest);\n      (0, _forEach.default)(keys).call(keys, function (key) {\n        delete latest[key];\n      });\n    }\n  }, {\n    key: \"_getDirtyObjectAttributes\",\n    value: function () /*: AttributeMap*/\n    {\n      var attributes = this.attributes;\n      var stateController = _CoreManager.default.getObjectStateController();\n      var objectCache = stateController.getObjectCache(this._getStateIdentifier());\n      var dirty = {};\n      for (var _attr3 in attributes) {\n        var val = attributes[_attr3];\n        if (val && (0, _typeof2.default)(val) === 'object' && !(val instanceof ParseObject) && !(val instanceof _ParseFile.default) && !(val instanceof _ParseRelation.default)) {\n          // Due to the way browsers construct maps, the key order will not change\n          // unless the object is changed\n          try {\n            var json = (0, _encode.default)(val, false, true);\n            var stringified = (0, _stringify.default)(json);\n            if (objectCache[_attr3] !== stringified) {\n              dirty[_attr3] = val;\n            }\n          } catch (e) {\n            // Error occurred, possibly by a nested unsaved pointer in a mutable container\n            // No matter how it happened, it indicates a change in the attribute\n            dirty[_attr3] = val;\n          }\n        }\n      }\n      return dirty;\n    }\n  }, {\n    key: \"_toFullJSON\",\n    value: function (seen\n    /*:: ?: Array<any>*/, offline\n    /*:: ?: boolean*/) /*: AttributeMap*/\n    {\n      var json\n      /*: { [key: string]: mixed }*/ = this.toJSON(seen, offline);\n      json.__type = 'Object';\n      json.className = this.className;\n      return json;\n    }\n  }, {\n    key: \"_getSaveJSON\",\n    value: function () /*: AttributeMap*/\n    {\n      var pending = this._getPendingOps();\n      var dirtyObjects = this._getDirtyObjectAttributes();\n      var json = {};\n      for (var attr in dirtyObjects) {\n        var isDotNotation = false;\n        for (var i = 0; i < pending.length; i += 1) {\n          for (var field in pending[i]) {\n            // Dot notation operations are handled later\n            if ((0, _includes.default)(field).call(field, '.')) {\n              var fieldName = field.split('.')[0];\n              if (fieldName === attr) {\n                isDotNotation = true;\n                break;\n              }\n            }\n          }\n        }\n        if (!isDotNotation) {\n          json[attr] = new _ParseOp.SetOp(dirtyObjects[attr]).toJSON();\n        }\n      }\n      for (attr in pending[0]) {\n        json[attr] = pending[0][attr].toJSON();\n      }\n      return json;\n    }\n  }, {\n    key: \"_getSaveParams\",\n    value: function () /*: SaveParams*/\n    {\n      var method = this.id ? 'PUT' : 'POST';\n      var body = this._getSaveJSON();\n      var path = 'classes/' + this.className;\n      if (_CoreManager.default.get('ALLOW_CUSTOM_OBJECT_ID')) {\n        if (!this.createdAt) {\n          method = 'POST';\n          body.objectId = this.id;\n        } else {\n          method = 'PUT';\n          path += '/' + this.id;\n        }\n      } else if (this.id) {\n        path += '/' + this.id;\n      } else if (this.className === '_User') {\n        path = 'users';\n      }\n      return {\n        method: method,\n        body: body,\n        path: path\n      };\n    }\n  }, {\n    key: \"_finishFetch\",\n    value: function (serverData\n    /*: AttributeMap*/) {\n      if (!this.id && serverData.objectId) {\n        this.id = serverData.objectId;\n      }\n      var stateController = _CoreManager.default.getObjectStateController();\n      stateController.initializeState(this._getStateIdentifier());\n      var decoded = {};\n      for (var _attr4 in serverData) {\n        if (_attr4 === 'ACL') {\n          decoded[_attr4] = new _ParseACL.default(serverData[_attr4]);\n        } else if (_attr4 !== 'objectId') {\n          decoded[_attr4] = (0, _decode.default)(serverData[_attr4]);\n          if (decoded[_attr4] instanceof _ParseRelation.default) {\n            decoded[_attr4]._ensureParentAndKey(this, _attr4);\n          }\n        }\n      }\n      if (decoded.createdAt && typeof decoded.createdAt === 'string') {\n        decoded.createdAt = (0, _parseDate.default)(decoded.createdAt);\n      }\n      if (decoded.updatedAt && typeof decoded.updatedAt === 'string') {\n        decoded.updatedAt = (0, _parseDate.default)(decoded.updatedAt);\n      }\n      if (!decoded.updatedAt && decoded.createdAt) {\n        decoded.updatedAt = decoded.createdAt;\n      }\n      stateController.commitServerChanges(this._getStateIdentifier(), decoded);\n    }\n  }, {\n    key: \"_setExisted\",\n    value: function (existed\n    /*: boolean*/) {\n      var stateController = _CoreManager.default.getObjectStateController();\n      var state = stateController.getState(this._getStateIdentifier());\n      if (state) {\n        state.existed = existed;\n      }\n    }\n  }, {\n    key: \"_migrateId\",\n    value: function (serverId\n    /*: string*/) {\n      if (this._localId && serverId) {\n        if (singleInstance) {\n          var stateController = _CoreManager.default.getObjectStateController();\n          var oldState = stateController.removeState(this._getStateIdentifier());\n          this.id = serverId;\n          delete this._localId;\n          if (oldState) {\n            stateController.initializeState(this._getStateIdentifier(), oldState);\n          }\n        } else {\n          this.id = serverId;\n          delete this._localId;\n        }\n      }\n    }\n  }, {\n    key: \"_handleSaveResponse\",\n    value: function (response\n    /*: AttributeMap*/, status\n    /*: number*/) {\n      var changes = {};\n      var stateController = _CoreManager.default.getObjectStateController();\n      var pending = stateController.popPendingState(this._getStateIdentifier());\n      for (var attr in pending) {\n        if (pending[attr] instanceof _ParseOp.RelationOp) {\n          changes[attr] = pending[attr].applyTo(undefined, this, attr);\n        } else if (!(attr in response) && !(0, _includes.default)(attr).call(attr, '.')) {\n          // Only SetOps and UnsetOps should not come back with results\n          changes[attr] = pending[attr].applyTo(undefined);\n        }\n      }\n      for (attr in response) {\n        if ((attr === 'createdAt' || attr === 'updatedAt') && typeof response[attr] === 'string') {\n          changes[attr] = (0, _parseDate.default)(response[attr]);\n        } else if (attr === 'ACL') {\n          changes[attr] = new _ParseACL.default(response[attr]);\n        } else if (attr !== 'objectId') {\n          var val = (0, _decode.default)(response[attr]);\n          if (val && (0, _getPrototypeOf.default)(val) === Object.prototype) {\n            changes[attr] = _objectSpread(_objectSpread({}, this.attributes[attr]), val);\n          } else {\n            changes[attr] = val;\n          }\n          if (changes[attr] instanceof _ParseOp.UnsetOp) {\n            changes[attr] = undefined;\n          }\n        }\n      }\n      if (changes.createdAt && !changes.updatedAt) {\n        changes.updatedAt = changes.createdAt;\n      }\n      this._migrateId(response.objectId);\n      if (status !== 201) {\n        this._setExisted(true);\n      }\n      stateController.commitServerChanges(this._getStateIdentifier(), changes);\n    }\n  }, {\n    key: \"_handleSaveError\",\n    value: function () {\n      var stateController = _CoreManager.default.getObjectStateController();\n      stateController.mergeFirstPendingState(this._getStateIdentifier());\n    }\n    /** Public methods **/\n  }, {\n    key: \"initialize\",\n    value: function () {// NOOP\n    }\n    /**\n     * Returns a JSON version of the object suitable for saving to Parse.\n     *\n     * @param seen\n     * @param offline\n     * @returns {object}\n     */\n  }, {\n    key: \"toJSON\",\n    value: function (seen\n    /*: Array<any> | void*/, offline\n    /*:: ?: boolean*/) /*: AttributeMap*/\n    {\n      var seenEntry = this.id ? this.className + ':' + this.id : this;\n      seen = seen || [seenEntry];\n      var json = {};\n      var attrs = this.attributes;\n      for (var _attr5 in attrs) {\n        if ((_attr5 === 'createdAt' || _attr5 === 'updatedAt') && attrs[_attr5].toJSON) {\n          json[_attr5] = attrs[_attr5].toJSON();\n        } else {\n          json[_attr5] = (0, _encode.default)(attrs[_attr5], false, false, seen, offline);\n        }\n      }\n      var pending = this._getPendingOps();\n      for (var _attr6 in pending[0]) {\n        json[_attr6] = pending[0][_attr6].toJSON(offline);\n      }\n      if (this.id) {\n        json.objectId = this.id;\n      }\n      return json;\n    }\n    /**\n     * Determines whether this ParseObject is equal to another ParseObject\n     *\n     * @param {object} other - An other object ot compare\n     * @returns {boolean}\n     */\n  }, {\n    key: \"equals\",\n    value: function (other\n    /*: mixed*/) /*: boolean*/\n    {\n      if (this === other) {\n        return true;\n      }\n      return other instanceof ParseObject && this.className === other.className && this.id === other.id && typeof this.id !== 'undefined';\n    }\n    /**\n     * Returns true if this object has been modified since its last\n     * save/refresh.  If an attribute is specified, it returns true only if that\n     * particular attribute has been modified since the last save/refresh.\n     *\n     * @param {string} attr An attribute name (optional).\n     * @returns {boolean}\n     */\n  }, {\n    key: \"dirty\",\n    value: function (attr\n    /*:: ?: string*/) /*: boolean*/\n    {\n      if (!this.id) {\n        return true;\n      }\n      var pendingOps = this._getPendingOps();\n      var dirtyObjects = this._getDirtyObjectAttributes();\n      if (attr) {\n        if (dirtyObjects.hasOwnProperty(attr)) {\n          return true;\n        }\n        for (var i = 0; i < pendingOps.length; i++) {\n          if (pendingOps[i].hasOwnProperty(attr)) {\n            return true;\n          }\n        }\n        return false;\n      }\n      if ((0, _keys.default)(pendingOps[0]).length !== 0) {\n        return true;\n      }\n      if ((0, _keys.default)(dirtyObjects).length !== 0) {\n        return true;\n      }\n      return false;\n    }\n    /**\n     * Returns an array of keys that have been modified since last save/refresh\n     *\n     * @returns {string[]}\n     */\n  }, {\n    key: \"dirtyKeys\",\n    value: function () /*: Array<string>*/\n    {\n      var pendingOps = this._getPendingOps();\n      var keys = {};\n      for (var i = 0; i < pendingOps.length; i++) {\n        for (var _attr7 in pendingOps[i]) {\n          keys[_attr7] = true;\n        }\n      }\n      var dirtyObjects = this._getDirtyObjectAttributes();\n      for (var _attr8 in dirtyObjects) {\n        keys[_attr8] = true;\n      }\n      return (0, _keys.default)(keys);\n    }\n    /**\n     * Returns true if the object has been fetched.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isDataAvailable\",\n    value: function () /*: boolean*/\n    {\n      var serverData = this._getServerData();\n      return !!(0, _keys.default)(serverData).length;\n    }\n    /**\n     * Gets a Pointer referencing this Object.\n     *\n     * @returns {Pointer}\n     */\n  }, {\n    key: \"toPointer\",\n    value: function () /*: Pointer*/\n    {\n      if (!this.id) {\n        throw new Error('Cannot create a pointer to an unsaved ParseObject');\n      }\n      return {\n        __type: 'Pointer',\n        className: this.className,\n        objectId: this.id\n      };\n    }\n    /**\n     * Gets a Pointer referencing this Object.\n     *\n     * @returns {Pointer}\n     */\n  }, {\n    key: \"toOfflinePointer\",\n    value: function () /*: Pointer*/\n    {\n      if (!this._localId) {\n        throw new Error('Cannot create a offline pointer to a saved ParseObject');\n      }\n      return {\n        __type: 'Object',\n        className: this.className,\n        _localId: this._localId\n      };\n    }\n    /**\n     * Gets the value of an attribute.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @returns {*}\n     */\n  }, {\n    key: \"get\",\n    value: function (attr\n    /*: string*/) /*: mixed*/\n    {\n      return this.attributes[attr];\n    }\n    /**\n     * Gets a relation on the given class for the attribute.\n     *\n     * @param {string} attr The attribute to get the relation for.\n     * @returns {Parse.Relation}\n     */\n  }, {\n    key: \"relation\",\n    value: function (attr\n    /*: string*/) /*: ParseRelation*/\n    {\n      var value = this.get(attr);\n      if (value) {\n        if (!(value instanceof _ParseRelation.default)) {\n          throw new Error('Called relation() on non-relation field ' + attr);\n        }\n        value._ensureParentAndKey(this, attr);\n        return value;\n      }\n      return new _ParseRelation.default(this, attr);\n    }\n    /**\n     * Gets the HTML-escaped value of an attribute.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @returns {string}\n     */\n  }, {\n    key: \"escape\",\n    value: function (attr\n    /*: string*/) /*: string*/\n    {\n      var val = this.attributes[attr];\n      if (val == null) {\n        return '';\n      }\n      if (typeof val !== 'string') {\n        if (typeof val.toString !== 'function') {\n          return '';\n        }\n        val = val.toString();\n      }\n      return (0, _escape2.default)(val);\n    }\n    /**\n     * Returns <code>true</code> if the attribute contains a value that is not\n     * null or undefined.\n     *\n     * @param {string} attr The string name of the attribute.\n     * @returns {boolean}\n     */\n  }, {\n    key: \"has\",\n    value: function (attr\n    /*: string*/) /*: boolean*/\n    {\n      var attributes = this.attributes;\n      if (attributes.hasOwnProperty(attr)) {\n        return attributes[attr] != null;\n      }\n      return false;\n    }\n    /**\n     * Sets a hash of model attributes on the object.\n     *\n     * <p>You can call it with an object containing keys and values, with one\n     * key and value, or dot notation.  For example:<pre>\n     *   gameTurn.set({\n     *     player: player1,\n     *     diceRoll: 2\n     *   }, {\n     *     error: function(gameTurnAgain, error) {\n     *       // The set failed validation.\n     *     }\n     *   });\n     *\n     *   game.set(\"currentPlayer\", player2, {\n     *     error: function(gameTurnAgain, error) {\n     *       // The set failed validation.\n     *     }\n     *   });\n     *\n     *   game.set(\"finished\", true);</pre></p>\n     *\n     *   game.set(\"player.score\", 10);</pre></p>\n     *\n     * @param {(string|object)} key The key to set.\n     * @param {(string|object)} value The value to give it.\n     * @param {object} options A set of options for the set.\n     *     The only supported option is <code>error</code>.\n     * @returns {(ParseObject|boolean)} true if the set succeeded.\n     */\n  }, {\n    key: \"set\",\n    value: function (key\n    /*: mixed*/, value\n    /*: mixed*/, options\n    /*:: ?: mixed*/) /*: ParseObject | boolean*/\n    {\n      var changes = {};\n      var newOps = {};\n      if (key && (0, _typeof2.default)(key) === 'object') {\n        changes = key;\n        options = value;\n      } else if (typeof key === 'string') {\n        changes[key] = value;\n      } else {\n        return this;\n      }\n      options = options || {};\n      var readonly = [];\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        readonly = (0, _concat.default)(readonly).call(readonly, this.constructor.readOnlyAttributes());\n      }\n      for (var k in changes) {\n        if (k === 'createdAt' || k === 'updatedAt') {\n          // This property is read-only, but for legacy reasons we silently\n          // ignore it\n          continue;\n        }\n        if ((0, _indexOf.default)(readonly).call(readonly, k) > -1) {\n          throw new Error('Cannot modify readonly attribute: ' + k);\n        }\n        if (options.unset) {\n          newOps[k] = new _ParseOp.UnsetOp();\n        } else if (changes[k] instanceof _ParseOp.Op) {\n          newOps[k] = changes[k];\n        } else if (changes[k] && (0, _typeof2.default)(changes[k]) === 'object' && typeof changes[k].__op === 'string') {\n          newOps[k] = (0, _ParseOp.opFromJSON)(changes[k]);\n        } else if (k === 'objectId' || k === 'id') {\n          if (typeof changes[k] === 'string') {\n            this.id = changes[k];\n          }\n        } else if (k === 'ACL' && (0, _typeof2.default)(changes[k]) === 'object' && !(changes[k] instanceof _ParseACL.default)) {\n          newOps[k] = new _ParseOp.SetOp(new _ParseACL.default(changes[k]));\n        } else if (changes[k] instanceof _ParseRelation.default) {\n          var relation = new _ParseRelation.default(this, k);\n          relation.targetClassName = changes[k].targetClassName;\n          newOps[k] = new _ParseOp.SetOp(relation);\n        } else {\n          newOps[k] = new _ParseOp.SetOp(changes[k]);\n        }\n      }\n      var currentAttributes = this.attributes; // Calculate new values\n\n      var newValues = {};\n      for (var _attr9 in newOps) {\n        if (newOps[_attr9] instanceof _ParseOp.RelationOp) {\n          newValues[_attr9] = newOps[_attr9].applyTo(currentAttributes[_attr9], this, _attr9);\n        } else if (!(newOps[_attr9] instanceof _ParseOp.UnsetOp)) {\n          newValues[_attr9] = newOps[_attr9].applyTo(currentAttributes[_attr9]);\n        }\n      } // Validate changes\n\n      if (!options.ignoreValidation) {\n        var validation = this.validate(newValues);\n        if (validation) {\n          if (typeof options.error === 'function') {\n            options.error(this, validation);\n          }\n          return false;\n        }\n      } // Consolidate Ops\n\n      var pendingOps = this._getPendingOps();\n      var last = pendingOps.length - 1;\n      var stateController = _CoreManager.default.getObjectStateController();\n      for (var _attr10 in newOps) {\n        var nextOp = newOps[_attr10].mergeWith(pendingOps[last][_attr10]);\n        stateController.setPendingOp(this._getStateIdentifier(), _attr10, nextOp);\n      }\n      return this;\n    }\n    /**\n     * Remove an attribute from the model. This is a noop if the attribute doesn't\n     * exist.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @param options\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"unset\",\n    value: function (attr\n    /*: string*/, options\n    /*:: ?: { [opt: string]: mixed }*/) /*: ParseObject | boolean*/\n    {\n      options = options || {};\n      options.unset = true;\n      return this.set(attr, null, options);\n    }\n    /**\n     * Atomically increments the value of the given attribute the next time the\n     * object is saved. If no amount is specified, 1 is used by default.\n     *\n     * @param attr {String} The key.\n     * @param amount {Number} The amount to increment by (optional).\n     * @returns {(ParseObject|boolean)}\n     */\n  }, {\n    key: \"increment\",\n    value: function (attr\n    /*: string*/, amount\n    /*:: ?: number*/) /*: ParseObject | boolean*/\n    {\n      if (typeof amount === 'undefined') {\n        amount = 1;\n      }\n      if (typeof amount !== 'number') {\n        throw new Error('Cannot increment by a non-numeric amount.');\n      }\n      return this.set(attr, new _ParseOp.IncrementOp(amount));\n    }\n    /**\n     * Atomically decrements the value of the given attribute the next time the\n     * object is saved. If no amount is specified, 1 is used by default.\n     *\n     * @param attr {String} The key.\n     * @param amount {Number} The amount to decrement by (optional).\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"decrement\",\n    value: function (attr\n    /*: string*/, amount\n    /*:: ?: number*/) /*: ParseObject | boolean*/\n    {\n      if (typeof amount === 'undefined') {\n        amount = 1;\n      }\n      if (typeof amount !== 'number') {\n        throw new Error('Cannot decrement by a non-numeric amount.');\n      }\n      return this.set(attr, new _ParseOp.IncrementOp(amount * -1));\n    }\n    /**\n     * Atomically add an object to the end of the array associated with a given\n     * key.\n     *\n     * @param attr {String} The key.\n     * @param item {} The item to add.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"add\",\n    value: function (attr\n    /*: string*/, item\n    /*: mixed*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddOp([item]));\n    }\n    /**\n     * Atomically add the objects to the end of the array associated with a given\n     * key.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The items to add.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"addAll\",\n    value: function (attr\n    /*: string*/, items\n    /*: Array<mixed>*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddOp(items));\n    }\n    /**\n     * Atomically add an object to the array associated with a given key, only\n     * if it is not already present in the array. The position of the insert is\n     * not guaranteed.\n     *\n     * @param attr {String} The key.\n     * @param item {} The object to add.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"addUnique\",\n    value: function (attr\n    /*: string*/, item\n    /*: mixed*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddUniqueOp([item]));\n    }\n    /**\n     * Atomically add the objects to the array associated with a given key, only\n     * if it is not already present in the array. The position of the insert is\n     * not guaranteed.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The objects to add.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"addAllUnique\",\n    value: function (attr\n    /*: string*/, items\n    /*: Array<mixed>*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddUniqueOp(items));\n    }\n    /**\n     * Atomically remove all instances of an object from the array associated\n     * with a given key.\n     *\n     * @param attr {String} The key.\n     * @param item {} The object to remove.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"remove\",\n    value: function (attr\n    /*: string*/, item\n    /*: mixed*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.RemoveOp([item]));\n    }\n    /**\n     * Atomically remove all instances of the objects from the array associated\n     * with a given key.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The object to remove.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"removeAll\",\n    value: function (attr\n    /*: string*/, items\n    /*: Array<mixed>*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.RemoveOp(items));\n    }\n    /**\n     * Returns an instance of a subclass of Parse.Op describing what kind of\n     * modification has been performed on this field since the last time it was\n     * saved. For example, after calling object.increment(\"x\"), calling\n     * object.op(\"x\") would return an instance of Parse.Op.Increment.\n     *\n     * @param attr {String} The key.\n     * @returns {Parse.Op} The operation, or undefined if none.\n     */\n  }, {\n    key: \"op\",\n    value: function (attr\n    /*: string*/) /*: ?Op*/\n    {\n      var pending = this._getPendingOps();\n      for (var i = pending.length; i--;) {\n        if (pending[i][attr]) {\n          return pending[i][attr];\n        }\n      }\n    }\n    /**\n     * Creates a new model with identical attributes to this one.\n     *\n     * @returns {Parse.Object}\n     */\n  }, {\n    key: \"clone\",\n    value: function clone() /*: any*/\n    {\n      var clone = new this.constructor();\n      if (!clone.className) {\n        clone.className = this.className;\n      }\n      var attributes = this.attributes;\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        var readonly = this.constructor.readOnlyAttributes() || []; // Attributes are frozen, so we have to rebuild an object,\n        // rather than delete readonly keys\n\n        var copy = {};\n        for (var a in attributes) {\n          if ((0, _indexOf.default)(readonly).call(readonly, a) < 0) {\n            copy[a] = attributes[a];\n          }\n        }\n        attributes = copy;\n      }\n      if (clone.set) {\n        clone.set(attributes);\n      }\n      return clone;\n    }\n    /**\n     * Creates a new instance of this object. Not to be confused with clone()\n     *\n     * @returns {Parse.Object}\n     */\n  }, {\n    key: \"newInstance\",\n    value: function () /*: any*/\n    {\n      var clone = new this.constructor();\n      if (!clone.className) {\n        clone.className = this.className;\n      }\n      clone.id = this.id;\n      if (singleInstance) {\n        // Just return an object with the right id\n        return clone;\n      }\n      var stateController = _CoreManager.default.getObjectStateController();\n      if (stateController) {\n        stateController.duplicateState(this._getStateIdentifier(), clone._getStateIdentifier());\n      }\n      return clone;\n    }\n    /**\n     * Returns true if this object has never been saved to Parse.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isNew\",\n    value: function () /*: boolean*/\n    {\n      return !this.id;\n    }\n    /**\n     * Returns true if this object was created by the Parse server when the\n     * object might have already been there (e.g. in the case of a Facebook\n     * login)\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"existed\",\n    value: function () /*: boolean*/\n    {\n      if (!this.id) {\n        return false;\n      }\n      var stateController = _CoreManager.default.getObjectStateController();\n      var state = stateController.getState(this._getStateIdentifier());\n      if (state) {\n        return state.existed;\n      }\n      return false;\n    }\n    /**\n     * Returns true if this object exists on the Server\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @returns {Promise<boolean>} A boolean promise that is fulfilled if object exists.\n     */\n  }, {\n    key: \"exists\",\n    value: function () {\n      var _exists = (0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee(options\n      /*:: ?: RequestOptions*/) {\n        var query;\n        return _regenerator.default.wrap(function (_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.id) {\n                  _context.next = 2;\n                  break;\n                }\n                return _context.abrupt(\"return\", false);\n              case 2:\n                _context.prev = 2;\n                query = new _ParseQuery.default(this.className);\n                _context.next = 6;\n                return query.get(this.id, options);\n              case 6:\n                return _context.abrupt(\"return\", true);\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](2);\n                if (!(_context.t0.code === _ParseError.default.OBJECT_NOT_FOUND)) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\", false);\n              case 13:\n                throw _context.t0;\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 9]]);\n      }));\n      return function () {\n        return _exists.apply(this, arguments);\n      };\n    }()\n    /**\n     * Checks if the model is currently in a valid state.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isValid\",\n    value: function () /*: boolean*/\n    {\n      return !this.validate(this.attributes);\n    }\n    /**\n     * You should not call this function directly unless you subclass\n     * <code>Parse.Object</code>, in which case you can override this method\n     * to provide additional validation on <code>set</code> and\n     * <code>save</code>.  Your implementation should return\n     *\n     * @param {object} attrs The current data to validate.\n     * @returns {Parse.Error|boolean} False if the data is valid.  An error object otherwise.\n     * @see Parse.Object#set\n     */\n  }, {\n    key: \"validate\",\n    value: function (attrs\n    /*: AttributeMap*/) /*: ParseError | boolean*/\n    {\n      if (attrs.hasOwnProperty('ACL') && !(attrs.ACL instanceof _ParseACL.default)) {\n        return new _ParseError.default(_ParseError.default.OTHER_CAUSE, 'ACL must be a Parse ACL.');\n      }\n      for (var _key in attrs) {\n        if (!/^[A-Za-z][0-9A-Za-z_.]*$/.test(_key)) {\n          return new _ParseError.default(_ParseError.default.INVALID_KEY_NAME);\n        }\n      }\n      return false;\n    }\n    /**\n     * Returns the ACL for this object.\n     *\n     * @returns {Parse.ACL} An instance of Parse.ACL.\n     * @see Parse.Object#get\n     */\n  }, {\n    key: \"getACL\",\n    value: function () /*: ?ParseACL*/\n    {\n      var acl = this.get('ACL');\n      if (acl instanceof _ParseACL.default) {\n        return acl;\n      }\n      return null;\n    }\n    /**\n     * Sets the ACL to be used for this object.\n     *\n     * @param {Parse.ACL} acl An instance of Parse.ACL.\n     * @param {object} options\n     * @returns {(ParseObject | boolean)} Whether the set passed validation.\n     * @see Parse.Object#set\n     */\n  }, {\n    key: \"setACL\",\n    value: function (acl\n    /*: ParseACL*/, options\n    /*:: ?: mixed*/) /*: ParseObject | boolean*/\n    {\n      return this.set('ACL', acl, options);\n    }\n    /**\n     * Clears any (or specific) changes to this object made since the last call to save()\n     *\n     * @param {string} [keys] - specify which fields to revert\n     */\n  }, {\n    key: \"revert\",\n    value: function () /*: void*/\n    {\n      var keysToRevert;\n      for (var _len = arguments.length, keys = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n        keys[_key2] = arguments[_key2];\n      }\n      if (keys.length) {\n        keysToRevert = [];\n        var _iterator = _createForOfIteratorHelper(keys),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _key3 = _step.value;\n            if (typeof _key3 === 'string') {\n              keysToRevert.push(_key3);\n            } else {\n              throw new Error('Parse.Object#revert expects either no, or a list of string, arguments.');\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      this._clearPendingOps(keysToRevert);\n    }\n    /**\n     * Clears all attributes on a model\n     *\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"clear\",\n    value: function () /*: ParseObject | boolean*/\n    {\n      var attributes = this.attributes;\n      var erasable = {};\n      var readonly = ['createdAt', 'updatedAt'];\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        readonly = (0, _concat.default)(readonly).call(readonly, this.constructor.readOnlyAttributes());\n      }\n      for (var _attr11 in attributes) {\n        if ((0, _indexOf.default)(readonly).call(readonly, _attr11) < 0) {\n          erasable[_attr11] = true;\n        }\n      }\n      return this.set(erasable, {\n        unset: true\n      });\n    }\n    /**\n     * Fetch the model from the server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden.\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>include: The name(s) of the key(s) to include. Can be a string, an array of strings,\n     *       or an array of array of strings.\n     *   <li>context: A dictionary that is accessible in Cloud Code `beforeFind` trigger.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n  }, {\n    key: \"fetch\",\n    value: function (options\n    /*: RequestOptions*/) /*: Promise*/\n    {\n      options = options || {};\n      var fetchOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        fetchOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        fetchOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        fetchOptions.context = options.context;\n      }\n      if (options.hasOwnProperty('include')) {\n        fetchOptions.include = [];\n        if ((0, _isArray.default)(options.include)) {\n          var _context2;\n          (0, _forEach.default)(_context2 = options.include).call(_context2, function (key) {\n            if ((0, _isArray.default)(key)) {\n              var _context3;\n              fetchOptions.include = (0, _concat.default)(_context3 = fetchOptions.include).call(_context3, key);\n            } else {\n              fetchOptions.include.push(key);\n            }\n          });\n        } else {\n          fetchOptions.include.push(options.include);\n        }\n      }\n      var controller = _CoreManager.default.getObjectController();\n      return controller.fetch(this, true, fetchOptions);\n    }\n    /**\n     * Fetch the model from the server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n  }, {\n    key: \"fetchWithInclude\",\n    value: function (keys\n    /*: String | Array<string | Array<string>>*/, options\n    /*: RequestOptions*/) /*: Promise*/\n    {\n      options = options || {};\n      options.include = keys;\n      return this.fetch(options);\n    }\n    /**\n     * Saves this object to the server at some unspecified time in the future,\n     * even if Parse is currently inaccessible.\n     *\n     * Use this when you may not have a solid network connection, and don't need to know when the save completes.\n     * If there is some problem with the object such that it can't be saved, it will be silently discarded.\n     *\n     * Objects saved with this method will be stored locally in an on-disk cache until they can be delivered to Parse.\n     * They will be sent immediately if possible. Otherwise, they will be sent the next time a network connection is\n     * available. Objects saved this way will persist even after the app is closed, in which case they will be sent the\n     * next time the app is opened.\n     *\n     * @param {object} [options]\n     * Used to pass option parameters to method if arg1 and arg2 were both passed as strings.\n     * Valid options are:\n     * <ul>\n     * <li>sessionToken: A valid session token, used for making a request on\n     * behalf of a specific user.\n     * <li>cascadeSave: If `false`, nested objects will not be saved (default is `true`).\n     * <li>context: A dictionary that is accessible in Cloud Code `beforeSave` and `afterSave` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the save\n     * completes.\n     */\n  }, {\n    key: \"saveEventually\",\n    value: function () {\n      var _saveEventually = (0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee2(options\n      /*: SaveOptions*/) {\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return this.save(null, options);\n              case 3:\n                _context4.next = 11;\n                break;\n              case 5:\n                _context4.prev = 5;\n                _context4.t0 = _context4[\"catch\"](0);\n                if (!(_context4.t0.message === 'XMLHttpRequest failed: \"Unable to connect to the Parse API\"')) {\n                  _context4.next = 11;\n                  break;\n                }\n                _context4.next = 10;\n                return _EventuallyQueue.default.save(this, options);\n              case 10:\n                _EventuallyQueue.default.poll();\n              case 11:\n                return _context4.abrupt(\"return\", this);\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }));\n      return function () {\n        return _saveEventually.apply(this, arguments);\n      };\n    }()\n    /**\n     * Set a hash of model attributes, and save the model to the server.\n     * updatedAt will be updated when the request returns.\n     * You can either call it as:<pre>\n     * object.save();</pre>\n     * or<pre>\n     * object.save(attrs);</pre>\n     * or<pre>\n     * object.save(null, options);</pre>\n     * or<pre>\n     * object.save(attrs, options);</pre>\n     * or<pre>\n     * object.save(key, value, options);</pre>\n     *\n     * For example, <pre>\n     * gameTurn.save({\n     * player: \"Jake Cutter\",\n     * diceRoll: 2\n     * }).then(function(gameTurnAgain) {\n     * // The save was successful.\n     * }, function(error) {\n     * // The save failed.  Error is an instance of Parse.Error.\n     * });</pre>\n     *\n     * @param {string | object | null} [arg1]\n     * Valid options are:<ul>\n     * <li>`Object` - Key/value pairs to update on the object.</li>\n     * <li>`String` Key - Key of attribute to update (requires arg2 to also be string)</li>\n     * <li>`null` - Passing null for arg1 allows you to save the object with options passed in arg2.</li>\n     * </ul>\n     * @param {string | object} [arg2]\n     * <ul>\n     * <li>`String` Value - If arg1 was passed as a key, arg2 is the value that should be set on that key.</li>\n     * <li>`Object` Options - Valid options are:\n     * <ul>\n     * <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     * be used for this request.\n     * <li>sessionToken: A valid session token, used for making a request on\n     * behalf of a specific user.\n     * <li>cascadeSave: If `false`, nested objects will not be saved (default is `true`).\n     * <li>context: A dictionary that is accessible in Cloud Code `beforeSave` and `afterSave` triggers.\n     * </ul>\n     * </li>\n     * </ul>\n     * @param {object} [arg3]\n     * Used to pass option parameters to method if arg1 and arg2 were both passed as strings.\n     * Valid options are:\n     * <ul>\n     * <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     * be used for this request.\n     * <li>sessionToken: A valid session token, used for making a request on\n     * behalf of a specific user.\n     * <li>cascadeSave: If `false`, nested objects will not be saved (default is `true`).\n     * <li>context: A dictionary that is accessible in Cloud Code `beforeSave` and `afterSave` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the save\n     * completes.\n     */\n  }, {\n    key: \"save\",\n    value: function (arg1\n    /*: ?string | { [attr: string]: mixed }*/, arg2\n    /*: SaveOptions | mixed*/, arg3\n    /*:: ?: SaveOptions*/) /*: Promise*/\n    {\n      var _this = this;\n      var attrs;\n      var options;\n      if ((0, _typeof2.default)(arg1) === 'object' || typeof arg1 === 'undefined') {\n        attrs = arg1;\n        if ((0, _typeof2.default)(arg2) === 'object') {\n          options = arg2;\n        }\n      } else {\n        attrs = {};\n        attrs[arg1] = arg2;\n        options = arg3;\n      }\n      if (attrs) {\n        var validation = this.validate(attrs);\n        if (validation) {\n          return _promise.default.reject(validation);\n        }\n        this.set(attrs, options);\n      }\n      options = options || {};\n      var saveOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        saveOptions.useMasterKey = !!options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken') && typeof options.sessionToken === 'string') {\n        saveOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('installationId') && typeof options.installationId === 'string') {\n        saveOptions.installationId = options.installationId;\n      }\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        saveOptions.context = options.context;\n      }\n      var controller = _CoreManager.default.getObjectController();\n      var unsaved = options.cascadeSave !== false ? (0, _unsavedChildren.default)(this) : null;\n      return controller.save(unsaved, saveOptions).then(function () {\n        return controller.save(_this, saveOptions);\n      });\n    }\n    /**\n     * Deletes this object from the server at some unspecified time in the future,\n     * even if Parse is currently inaccessible.\n     *\n     * Use this when you may not have a solid network connection,\n     * and don't need to know when the delete completes. If there is some problem with the object\n     * such that it can't be deleted, the request will be silently discarded.\n     *\n     * Delete instructions made with this method will be stored locally in an on-disk cache until they can be transmitted\n     * to Parse. They will be sent immediately if possible. Otherwise, they will be sent the next time a network connection\n     * is available. Delete requests will persist even after the app is closed, in which case they will be sent the\n     * next time the app is opened.\n     *\n     * @param {object} [options]\n     * Valid options are:<ul>\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>context: A dictionary that is accessible in Cloud Code `beforeDelete` and `afterDelete` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the destroy\n     *     completes.\n     */\n  }, {\n    key: \"destroyEventually\",\n    value: function () {\n      var _destroyEventually = (0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee3(options\n      /*: RequestOptions*/) {\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return this.destroy(options);\n              case 3:\n                _context5.next = 11;\n                break;\n              case 5:\n                _context5.prev = 5;\n                _context5.t0 = _context5[\"catch\"](0);\n                if (!(_context5.t0.message === 'XMLHttpRequest failed: \"Unable to connect to the Parse API\"')) {\n                  _context5.next = 11;\n                  break;\n                }\n                _context5.next = 10;\n                return _EventuallyQueue.default.destroy(this, options);\n              case 10:\n                _EventuallyQueue.default.poll();\n              case 11:\n                return _context5.abrupt(\"return\", this);\n              case 12:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee3, this, [[0, 5]]);\n      }));\n      return function () {\n        return _destroyEventually.apply(this, arguments);\n      };\n    }()\n    /**\n     * Destroy this model on the server if it was already persisted.\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>context: A dictionary that is accessible in Cloud Code `beforeDelete` and `afterDelete` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the destroy\n     *     completes.\n     */\n  }, {\n    key: \"destroy\",\n    value: function (options\n    /*: RequestOptions*/) /*: Promise*/\n    {\n      options = options || {};\n      var destroyOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        destroyOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        destroyOptions.context = options.context;\n      }\n      if (!this.id) {\n        return _promise.default.resolve();\n      }\n      return _CoreManager.default.getObjectController().destroy(this, destroyOptions);\n    }\n    /**\n     * Asynchronously stores the object and every object it points to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await object.pin();\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPin()</code>\n     *\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     */\n  }, {\n    key: \"pin\",\n    value: function () /*: Promise<void>*/\n    {\n      return ParseObject.pinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, [this]);\n    }\n    /**\n     * Asynchronously removes the object and every object it points to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * <pre>\n     * await object.unPin();\n     * </pre>\n     *\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     */\n  }, {\n    key: \"unPin\",\n    value: function () /*: Promise<void>*/\n    {\n      return ParseObject.unPinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, [this]);\n    }\n    /**\n     * Asynchronously returns if the object is pinned\n     *\n     * <pre>\n     * const isPinned = await object.isPinned();\n     * </pre>\n     *\n     * @returns {Promise<boolean>} A boolean promise that is fulfilled if object is pinned.\n     */\n  }, {\n    key: \"isPinned\",\n    value: function () {\n      var _isPinned = (0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee4() {\n        var localDatastore, objectKey, pin;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                localDatastore = _CoreManager.default.getLocalDatastore();\n                if (localDatastore.isEnabled) {\n                  _context6.next = 3;\n                  break;\n                }\n                return _context6.abrupt(\"return\", _promise.default.reject('Parse.enableLocalDatastore() must be called first'));\n              case 3:\n                objectKey = localDatastore.getKeyForObject(this);\n                _context6.next = 6;\n                return localDatastore.fromPinWithName(objectKey);\n              case 6:\n                pin = _context6.sent;\n                return _context6.abrupt(\"return\", pin.length > 0);\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      return function () {\n        return _isPinned.apply(this, arguments);\n      };\n    }()\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore, recursively.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await object.pinWithName(name);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPinWithName(name)</code>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     */\n  }, {\n    key: \"pinWithName\",\n    value: function (name\n    /*: string*/) /*: Promise<void>*/\n    {\n      return ParseObject.pinAllWithName(name, [this]);\n    }\n    /**\n     * Asynchronously removes the object and every object it points to in the local datastore, recursively.\n     *\n     * <pre>\n     * await object.unPinWithName(name);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     */\n  }, {\n    key: \"unPinWithName\",\n    value: function (name\n    /*: string*/) /*: Promise<void>*/\n    {\n      return ParseObject.unPinAllWithName(name, [this]);\n    }\n    /**\n     * Asynchronously loads data from the local datastore into this object.\n     *\n     * <pre>\n     * await object.fetchFromLocalDatastore();\n     * </pre>\n     *\n     * You can create an unfetched pointer with <code>Parse.Object.createWithoutData()</code>\n     * and then call <code>fetchFromLocalDatastore()</code> on it.\n     *\n     * @returns {Promise} A promise that is fulfilled when the fetch completes.\n     */\n  }, {\n    key: \"fetchFromLocalDatastore\",\n    value: function () {\n      var _fetchFromLocalDatastore = (0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee5() {\n        var localDatastore, objectKey, pinned, result;\n        return _regenerator.default.wrap(function (_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                localDatastore = _CoreManager.default.getLocalDatastore();\n                if (localDatastore.isEnabled) {\n                  _context7.next = 3;\n                  break;\n                }\n                throw new Error('Parse.enableLocalDatastore() must be called first');\n              case 3:\n                objectKey = localDatastore.getKeyForObject(this);\n                _context7.next = 6;\n                return localDatastore._serializeObject(objectKey);\n              case 6:\n                pinned = _context7.sent;\n                if (pinned) {\n                  _context7.next = 9;\n                  break;\n                }\n                throw new Error('Cannot fetch an unsaved ParseObject');\n              case 9:\n                result = ParseObject.fromJSON(pinned);\n                this._finishFetch(result.toJSON());\n                return _context7.abrupt(\"return\", this);\n              case 12:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n      return function () {\n        return _fetchFromLocalDatastore.apply(this, arguments);\n      };\n    }()\n    /** Static methods **/\n  }], [{\n    key: \"_clearAllState\",\n    value: function () {\n      var stateController = _CoreManager.default.getObjectStateController();\n      stateController.clearAllState();\n    }\n    /**\n     * Fetches the given list of Parse.Object.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAll([object1, object2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>include: The name(s) of the key(s) to include. Can be a string, an array of strings,\n     *       or an array of array of strings.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n  }, {\n    key: \"fetchAll\",\n    value: function (list\n    /*: Array<ParseObject>*/) {\n      var options\n      /*: RequestOptions*/ = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var queryOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        queryOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        queryOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('include')) {\n        queryOptions.include = ParseObject.handleIncludeOptions(options);\n      }\n      return _CoreManager.default.getObjectController().fetch(list, true, queryOptions);\n    }\n    /**\n     * Fetches the given list of Parse.Object.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllWithInclude([object1, object2, ...], [pointer1, pointer2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n  }, {\n    key: \"fetchAllWithInclude\",\n    value: function (list\n    /*: Array<ParseObject>*/, keys\n    /*: String | Array<string | Array<string>>*/, options\n    /*: RequestOptions*/) {\n      options = options || {};\n      options.include = keys;\n      return ParseObject.fetchAll(list, options);\n    }\n    /**\n     * Fetches the given list of Parse.Object if needed.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllIfNeededWithInclude([object1, object2, ...], [pointer1, pointer2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n  }, {\n    key: \"fetchAllIfNeededWithInclude\",\n    value: function (list\n    /*: Array<ParseObject>*/, keys\n    /*: String | Array<string | Array<string>>*/, options\n    /*: RequestOptions*/) {\n      options = options || {};\n      options.include = keys;\n      return ParseObject.fetchAllIfNeeded(list, options);\n    }\n    /**\n     * Fetches the given list of Parse.Object if needed.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllIfNeeded([object1, ...])\n     *    .then((list) => {\n     *      // Objects were fetched and updated.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Parse.Object[]}\n     */\n  }, {\n    key: \"fetchAllIfNeeded\",\n    value: function (list\n    /*: Array<ParseObject>*/, options) {\n      options = options || {};\n      var queryOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        queryOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        queryOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('include')) {\n        queryOptions.include = ParseObject.handleIncludeOptions(options);\n      }\n      return _CoreManager.default.getObjectController().fetch(list, false, queryOptions);\n    }\n  }, {\n    key: \"handleIncludeOptions\",\n    value: function (options) {\n      var include = [];\n      if ((0, _isArray.default)(options.include)) {\n        var _context8;\n        (0, _forEach.default)(_context8 = options.include).call(_context8, function (key) {\n          if ((0, _isArray.default)(key)) {\n            include = (0, _concat.default)(include).call(include, key);\n          } else {\n            include.push(key);\n          }\n        });\n      } else {\n        include.push(options.include);\n      }\n      return include;\n    }\n    /**\n     * Destroy the given list of models on the server if it was already persisted.\n     *\n     * <p>Unlike saveAll, if an error occurs while deleting an individual model,\n     * this method will continue trying to delete the rest of the models if\n     * possible, except in the case of a fatal error like a connection error.\n     *\n     * <p>In particular, the Parse.Error object returned in the case of error may\n     * be one of two types:\n     *\n     * <ul>\n     * <li>A Parse.Error.AGGREGATE_ERROR. This object's \"errors\" property is an\n     * array of other Parse.Error objects. Each error object in this array\n     * has an \"object\" property that references the object that could not be\n     * deleted (for instance, because that object could not be found).</li>\n     * <li>A non-aggregate Parse.Error. This indicates a serious error that\n     * caused the delete operation to be aborted partway through (for\n     * instance, a connection failure in the middle of the delete).</li>\n     * </ul>\n     *\n     * <pre>\n     * Parse.Object.destroyAll([object1, object2, ...])\n     * .then((list) => {\n     * // All the objects were deleted.\n     * }, (error) => {\n     * // An error occurred while deleting one or more of the objects.\n     * // If this is an aggregate error, then we can inspect each error\n     * // object individually to determine the reason why a particular\n     * // object was not deleted.\n     * if (error.code === Parse.Error.AGGREGATE_ERROR) {\n     * for (var i = 0; i < error.errors.length; i++) {\n     * console.log(\"Couldn't delete \" + error.errors[i].object.id +\n     * \"due to \" + error.errors[i].message);\n     * }\n     * } else {\n     * console.log(\"Delete aborted because of \" + error.message);\n     * }\n     * });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Promise} A promise that is fulfilled when the destroyAll\n     * completes.\n     */\n  }, {\n    key: \"destroyAll\",\n    value: function (list\n    /*: Array<ParseObject>*/) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var destroyOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        destroyOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('batchSize') && typeof options.batchSize === 'number') {\n        destroyOptions.batchSize = options.batchSize;\n      }\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        destroyOptions.context = options.context;\n      }\n      return _CoreManager.default.getObjectController().destroy(list, destroyOptions);\n    }\n    /**\n     * Saves the given list of Parse.Object.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     * Parse.Object.saveAll([object1, object2, ...])\n     * .then((list) => {\n     * // All the objects were saved.\n     * }, (error) => {\n     * // An error occurred while saving one of the objects.\n     * });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Parse.Object[]}\n     */\n  }, {\n    key: \"saveAll\",\n    value: function (list\n    /*: Array<ParseObject>*/) {\n      var options\n      /*: RequestOptions*/ = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var saveOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        saveOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        saveOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('batchSize') && typeof options.batchSize === 'number') {\n        saveOptions.batchSize = options.batchSize;\n      }\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        saveOptions.context = options.context;\n      }\n      return _CoreManager.default.getObjectController().save(list, saveOptions);\n    }\n    /**\n     * Creates a reference to a subclass of Parse.Object with the given id. This\n     * does not exist on Parse.Object, only on subclasses.\n     *\n     * <p>A shortcut for: <pre>\n     *  var Foo = Parse.Object.extend(\"Foo\");\n     *  var pointerToFoo = new Foo();\n     *  pointerToFoo.id = \"myObjectId\";\n     * </pre>\n     *\n     * @param {string} id The ID of the object to create a reference to.\n     * @static\n     * @returns {Parse.Object} A Parse.Object reference.\n     */\n  }, {\n    key: \"createWithoutData\",\n    value: function (id\n    /*: string*/) {\n      var obj = new this();\n      obj.id = id;\n      return obj;\n    }\n    /**\n     * Creates a new instance of a Parse Object from a JSON representation.\n     *\n     * @param {object} json The JSON map of the Object's data\n     * @param {boolean} override In single instance mode, all old server data\n     *   is overwritten if this is set to true\n     * @param {boolean} dirty Whether the Parse.Object should set JSON keys to dirty\n     * @static\n     * @returns {Parse.Object} A Parse.Object reference\n     */\n  }, {\n    key: \"fromJSON\",\n    value: function (json\n    /*: any*/, override\n    /*:: ?: boolean*/, dirty\n    /*:: ?: boolean*/) {\n      if (!json.className) {\n        throw new Error('Cannot create an object without a className');\n      }\n      var constructor = classMap[json.className];\n      var o = constructor ? new constructor() : new ParseObject(json.className);\n      var otherAttributes = {};\n      for (var _attr12 in json) {\n        if (_attr12 !== 'className' && _attr12 !== '__type') {\n          otherAttributes[_attr12] = json[_attr12];\n          if (dirty) {\n            o.set(_attr12, json[_attr12]);\n          }\n        }\n      }\n      if (override) {\n        // id needs to be set before clearServerData can work\n        if (otherAttributes.objectId) {\n          o.id = otherAttributes.objectId;\n        }\n        var preserved = null;\n        if (typeof o._preserveFieldsOnFetch === 'function') {\n          preserved = o._preserveFieldsOnFetch();\n        }\n        o._clearServerData();\n        if (preserved) {\n          o._finishFetch(preserved);\n        }\n      }\n      o._finishFetch(otherAttributes);\n      if (json.objectId) {\n        o._setExisted(true);\n      }\n      return o;\n    }\n    /**\n     * Registers a subclass of Parse.Object with a specific class name.\n     * When objects of that class are retrieved from a query, they will be\n     * instantiated with this subclass.\n     * This is only necessary when using ES6 subclassing.\n     *\n     * @param {string} className The class name of the subclass\n     * @param {Function} constructor The subclass\n     */\n  }, {\n    key: \"registerSubclass\",\n    value: function (className\n    /*: string*/, constructor\n    /*: any*/) {\n      if (typeof className !== 'string') {\n        throw new TypeError('The first argument must be a valid class name.');\n      }\n      if (typeof constructor === 'undefined') {\n        throw new TypeError('You must supply a subclass constructor.');\n      }\n      if (typeof constructor !== 'function') {\n        throw new TypeError('You must register the subclass constructor. ' + 'Did you attempt to register an instance of the subclass?');\n      }\n      classMap[className] = constructor;\n      if (!constructor.className) {\n        constructor.className = className;\n      }\n    }\n    /**\n     * Creates a new subclass of Parse.Object for the given Parse class name.\n     *\n     * <p>Every extension of a Parse class will inherit from the most recent\n     * previous extension of that class. When a Parse.Object is automatically\n     * created by parsing JSON, it will use the most recent extension of that\n     * class.</p>\n     *\n     * <p>You should call either:<pre>\n     *     var MyClass = Parse.Object.extend(\"MyClass\", {\n     *         <i>Instance methods</i>,\n     *         initialize: function(attrs, options) {\n     *             this.someInstanceProperty = [],\n     *             <i>Other instance properties</i>\n     *         }\n     *     }, {\n     *         <i>Class properties</i>\n     *     });</pre>\n     * or, for Backbone compatibility:<pre>\n     *     var MyClass = Parse.Object.extend({\n     *         className: \"MyClass\",\n     *         <i>Instance methods</i>,\n     *         initialize: function(attrs, options) {\n     *             this.someInstanceProperty = [],\n     *             <i>Other instance properties</i>\n     *         }\n     *     }, {\n     *         <i>Class properties</i>\n     *     });</pre></p>\n     *\n     * @param {string} className The name of the Parse class backing this model.\n     * @param {object} protoProps Instance properties to add to instances of the\n     *     class returned from this method.\n     * @param {object} classProps Class properties to add the class returned from\n     *     this method.\n     * @returns {Parse.Object} A new subclass of Parse.Object.\n     */\n  }, {\n    key: \"extend\",\n    value: function (className\n    /*: any*/, protoProps\n    /*: any*/, classProps\n    /*: any*/) {\n      if (typeof className !== 'string') {\n        if (className && typeof className.className === 'string') {\n          return ParseObject.extend(className.className, className, protoProps);\n        } else {\n          throw new Error(\"Parse.Object.extend's first argument should be the className.\");\n        }\n      }\n      var adjustedClassName = className;\n      if (adjustedClassName === 'User' && _CoreManager.default.get('PERFORM_USER_REWRITE')) {\n        adjustedClassName = '_User';\n      }\n      var parentProto = ParseObject.prototype;\n      if (this.hasOwnProperty('__super__') && this.__super__) {\n        parentProto = this.prototype;\n      } else if (classMap[adjustedClassName]) {\n        parentProto = classMap[adjustedClassName].prototype;\n      }\n      var ParseObjectSubclass = function (attributes, options) {\n        this.className = adjustedClassName;\n        this._objCount = objectCount++; // Enable legacy initializers\n\n        if (typeof this.initialize === 'function') {\n          this.initialize.apply(this, arguments);\n        }\n        if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n          if (!this.set(attributes || {}, options)) {\n            throw new Error(\"Can't create an invalid Parse Object\");\n          }\n        }\n      };\n      ParseObjectSubclass.className = adjustedClassName;\n      ParseObjectSubclass.__super__ = parentProto;\n      ParseObjectSubclass.prototype = (0, _create.default)(parentProto, {\n        constructor: {\n          value: ParseObjectSubclass,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      if (protoProps) {\n        for (var prop in protoProps) {\n          if (prop !== 'className') {\n            (0, _defineProperty2.default)(ParseObjectSubclass.prototype, prop, {\n              value: protoProps[prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n      if (classProps) {\n        for (var _prop in classProps) {\n          if (_prop !== 'className') {\n            (0, _defineProperty2.default)(ParseObjectSubclass, _prop, {\n              value: classProps[_prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n      ParseObjectSubclass.extend = function (name, protoProps, classProps) {\n        if (typeof name === 'string') {\n          return ParseObject.extend.call(ParseObjectSubclass, name, protoProps, classProps);\n        }\n        return ParseObject.extend.call(ParseObjectSubclass, adjustedClassName, name, protoProps);\n      };\n      ParseObjectSubclass.createWithoutData = ParseObject.createWithoutData;\n      classMap[adjustedClassName] = ParseObjectSubclass;\n      return ParseObjectSubclass;\n    }\n    /**\n     * Enable single instance objects, where any local objects with the same Id\n     * share the same attributes, and stay synchronized with each other.\n     * This is disabled by default in server environments, since it can lead to\n     * security issues.\n     *\n     * @static\n     */\n  }, {\n    key: \"enableSingleInstance\",\n    value: function () {\n      singleInstance = true;\n      _CoreManager.default.setObjectStateController(SingleInstanceStateController);\n    }\n    /**\n     * Disable single instance objects, where any local objects with the same Id\n     * share the same attributes, and stay synchronized with each other.\n     * When disabled, you can have two instances of the same object in memory\n     * without them sharing attributes.\n     *\n     * @static\n     */\n  }, {\n    key: \"disableSingleInstance\",\n    value: function () {\n      singleInstance = false;\n      _CoreManager.default.setObjectStateController(UniqueInstanceStateController);\n    }\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await Parse.Object.pinAll([...]);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPin()</code>\n     *\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     * @static\n     */\n  }, {\n    key: \"pinAll\",\n    value: function (objects\n    /*: Array<ParseObject>*/) /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return ParseObject.pinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, objects);\n    }\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore, recursively.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await Parse.Object.pinAllWithName(name, [obj1, obj2, ...]);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPinWithName(name)</code>\n     *\n     * @param {string} name Name of Pin.\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     * @static\n     */\n  }, {\n    key: \"pinAllWithName\",\n    value: function (name\n    /*: string*/, objects\n    /*: Array<ParseObject>*/) /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return localDatastore._handlePinAllWithName(name, objects);\n    }\n    /**\n     * Asynchronously removes the objects and every object they point to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * <pre>\n     * await Parse.Object.unPinAll([...]);\n     * </pre>\n     *\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n  }, {\n    key: \"unPinAll\",\n    value: function (objects\n    /*: Array<ParseObject>*/) /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return ParseObject.unPinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, objects);\n    }\n    /**\n     * Asynchronously removes the objects and every object they point to in the local datastore, recursively.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllWithName(name, [obj1, obj2, ...]);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n  }, {\n    key: \"unPinAllWithName\",\n    value: function (name\n    /*: string*/, objects\n    /*: Array<ParseObject>*/) /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return localDatastore._handleUnPinAllWithName(name, objects);\n    }\n    /**\n     * Asynchronously removes all objects in the local datastore using a default pin name: _default.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllObjects();\n     * </pre>\n     *\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n  }, {\n    key: \"unPinAllObjects\",\n    value: function () /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return localDatastore.unPinWithName(_LocalDatastoreUtils.DEFAULT_PIN);\n    }\n    /**\n     * Asynchronously removes all objects with the specified pin name.\n     * Deletes the pin name also.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllObjectsWithName(name);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n  }, {\n    key: \"unPinAllObjectsWithName\",\n    value: function (name\n    /*: string*/) /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return localDatastore.unPinWithName(_LocalDatastoreUtils.PIN_PREFIX + name);\n    }\n  }]);\n  return ParseObject;\n}();\nvar DefaultController = {\n  fetch: function (target\n  /*: ParseObject | Array<ParseObject>*/, forceFetch\n  /*: boolean*/, options\n  /*: RequestOptions*/) /*: Promise<Array<void> | ParseObject>*/\n  {\n    var localDatastore = _CoreManager.default.getLocalDatastore();\n    if ((0, _isArray.default)(target)) {\n      if (target.length < 1) {\n        return _promise.default.resolve([]);\n      }\n      var objs = [];\n      var ids = [];\n      var className = null;\n      var results = [];\n      var error = null;\n      (0, _forEach.default)(target).call(target, function (el) {\n        if (error) {\n          return;\n        }\n        if (!className) {\n          className = el.className;\n        }\n        if (className !== el.className) {\n          error = new _ParseError.default(_ParseError.default.INVALID_CLASS_NAME, 'All objects should be of the same class');\n        }\n        if (!el.id) {\n          error = new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'All objects must have an ID');\n        }\n        if (forceFetch || !el.isDataAvailable()) {\n          ids.push(el.id);\n          objs.push(el);\n        }\n        results.push(el);\n      });\n      if (error) {\n        return _promise.default.reject(error);\n      }\n      var query = new _ParseQuery.default(className);\n      query.containedIn('objectId', ids);\n      if (options && options.include) {\n        query.include(options.include);\n      }\n      query._limit = ids.length;\n      return (0, _find.default)(query).call(query, options).then(/*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee6(objects) {\n          var idMap, i, obj, _i, _obj, id, _iterator2, _step2, object;\n          return _regenerator.default.wrap(function (_context9) {\n            while (1) {\n              switch (_context9.prev = _context9.next) {\n                case 0:\n                  idMap = {};\n                  (0, _forEach.default)(objects).call(objects, function (o) {\n                    idMap[o.id] = o;\n                  });\n                  i = 0;\n                case 3:\n                  if (!(i < objs.length)) {\n                    _context9.next = 11;\n                    break;\n                  }\n                  obj = objs[i];\n                  if (!(!obj || !obj.id || !idMap[obj.id])) {\n                    _context9.next = 8;\n                    break;\n                  }\n                  if (!forceFetch) {\n                    _context9.next = 8;\n                    break;\n                  }\n                  return _context9.abrupt(\"return\", _promise.default.reject(new _ParseError.default(_ParseError.default.OBJECT_NOT_FOUND, 'All objects must exist on the server.')));\n                case 8:\n                  i++;\n                  _context9.next = 3;\n                  break;\n                case 11:\n                  if (!singleInstance) {\n                    // If single instance objects are disabled, we need to replace the\n                    for (_i = 0; _i < results.length; _i++) {\n                      _obj = results[_i];\n                      if (_obj && _obj.id && idMap[_obj.id]) {\n                        id = _obj.id;\n                        _obj._finishFetch(idMap[id].toJSON());\n                        results[_i] = idMap[id];\n                      }\n                    }\n                  }\n                  _iterator2 = _createForOfIteratorHelper(results);\n                  _context9.prev = 13;\n                  _iterator2.s();\n                case 15:\n                  if ((_step2 = _iterator2.n()).done) {\n                    _context9.next = 21;\n                    break;\n                  }\n                  object = _step2.value;\n                  _context9.next = 19;\n                  return localDatastore._updateObjectIfPinned(object);\n                case 19:\n                  _context9.next = 15;\n                  break;\n                case 21:\n                  _context9.next = 26;\n                  break;\n                case 23:\n                  _context9.prev = 23;\n                  _context9.t0 = _context9[\"catch\"](13);\n                  _iterator2.e(_context9.t0);\n                case 26:\n                  _context9.prev = 26;\n                  _iterator2.f();\n                  return _context9.finish(26);\n                case 29:\n                  return _context9.abrupt(\"return\", _promise.default.resolve(results));\n                case 30:\n                case \"end\":\n                  return _context9.stop();\n              }\n            }\n          }, _callee6, null, [[13, 23, 26, 29]]);\n        }));\n        return function () {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } else if (target instanceof ParseObject) {\n      if (!target.id) {\n        return _promise.default.reject(new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'Object does not have an ID'));\n      }\n      var RESTController = _CoreManager.default.getRESTController();\n      var params = {};\n      if (options && options.include) {\n        params.include = options.include.join();\n      }\n      return RESTController.request('GET', 'classes/' + target.className + '/' + target._getId(), params, options).then(/*#__PURE__*/function () {\n        var _ref2 = (0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee7(response) {\n          return _regenerator.default.wrap(function (_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  target._clearPendingOps();\n                  target._clearServerData();\n                  target._finishFetch(response);\n                  _context10.next = 5;\n                  return localDatastore._updateObjectIfPinned(target);\n                case 5:\n                  return _context10.abrupt(\"return\", target);\n                case 6:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee7);\n        }));\n        return function () {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n    return _promise.default.resolve();\n  },\n  destroy: function (target\n  /*: ParseObject | Array<ParseObject>*/, options\n  /*: RequestOptions*/) /*: Promise<Array<void> | ParseObject>*/\n  {\n    return (0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee10() {\n      var batchSize, localDatastore, RESTController, batches, deleteCompleted, errors;\n      return _regenerator.default.wrap(function (_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              batchSize = options && options.batchSize ? options.batchSize : _CoreManager.default.get('REQUEST_BATCH_SIZE');\n              localDatastore = _CoreManager.default.getLocalDatastore();\n              RESTController = _CoreManager.default.getRESTController();\n              if (!(0, _isArray.default)(target)) {\n                _context13.next = 15;\n                break;\n              }\n              if (!(target.length < 1)) {\n                _context13.next = 6;\n                break;\n              }\n              return _context13.abrupt(\"return\", _promise.default.resolve([]));\n            case 6:\n              batches = [[]];\n              (0, _forEach.default)(target).call(target, function (obj) {\n                if (!obj.id) {\n                  return;\n                }\n                batches[batches.length - 1].push(obj);\n                if (batches[batches.length - 1].length >= batchSize) {\n                  batches.push([]);\n                }\n              });\n              if (batches[batches.length - 1].length === 0) {\n                // If the last batch is empty, remove it\n                batches.pop();\n              }\n              deleteCompleted = _promise.default.resolve();\n              errors = [];\n              (0, _forEach.default)(batches).call(batches, function (batch) {\n                deleteCompleted = deleteCompleted.then(function () {\n                  return RESTController.request('POST', 'batch', {\n                    requests: (0, _map.default)(batch).call(batch, function (obj) {\n                      return {\n                        method: 'DELETE',\n                        path: getServerUrlPath() + 'classes/' + obj.className + '/' + obj._getId(),\n                        body: {}\n                      };\n                    })\n                  }, options).then(function (results) {\n                    for (var i = 0; i < results.length; i++) {\n                      if (results[i] && results[i].hasOwnProperty('error')) {\n                        var _err = new _ParseError.default(results[i].error.code, results[i].error.error);\n                        _err.object = batch[i];\n                        errors.push(_err);\n                      }\n                    }\n                  });\n                });\n              });\n              return _context13.abrupt(\"return\", deleteCompleted.then(/*#__PURE__*/(0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee8() {\n                var aggregate, _iterator3, _step3, object;\n                return _regenerator.default.wrap(function (_context11) {\n                  while (1) {\n                    switch (_context11.prev = _context11.next) {\n                      case 0:\n                        if (!errors.length) {\n                          _context11.next = 4;\n                          break;\n                        }\n                        aggregate = new _ParseError.default(_ParseError.default.AGGREGATE_ERROR);\n                        aggregate.errors = errors;\n                        return _context11.abrupt(\"return\", _promise.default.reject(aggregate));\n                      case 4:\n                        _iterator3 = _createForOfIteratorHelper(target);\n                        _context11.prev = 5;\n                        _iterator3.s();\n                      case 7:\n                        if ((_step3 = _iterator3.n()).done) {\n                          _context11.next = 13;\n                          break;\n                        }\n                        object = _step3.value;\n                        _context11.next = 11;\n                        return localDatastore._destroyObjectIfPinned(object);\n                      case 11:\n                        _context11.next = 7;\n                        break;\n                      case 13:\n                        _context11.next = 18;\n                        break;\n                      case 15:\n                        _context11.prev = 15;\n                        _context11.t0 = _context11[\"catch\"](5);\n                        _iterator3.e(_context11.t0);\n                      case 18:\n                        _context11.prev = 18;\n                        _iterator3.f();\n                        return _context11.finish(18);\n                      case 21:\n                        return _context11.abrupt(\"return\", _promise.default.resolve(target));\n                      case 22:\n                      case \"end\":\n                        return _context11.stop();\n                    }\n                  }\n                }, _callee8, null, [[5, 15, 18, 21]]);\n              }))));\n            case 15:\n              if (!(target instanceof ParseObject)) {\n                _context13.next = 17;\n                break;\n              }\n              return _context13.abrupt(\"return\", RESTController.request('DELETE', 'classes/' + target.className + '/' + target._getId(), {}, options).then(/*#__PURE__*/(0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee9() {\n                return _regenerator.default.wrap(function (_context12) {\n                  while (1) {\n                    switch (_context12.prev = _context12.next) {\n                      case 0:\n                        _context12.next = 2;\n                        return localDatastore._destroyObjectIfPinned(target);\n                      case 2:\n                        return _context12.abrupt(\"return\", _promise.default.resolve(target));\n                      case 3:\n                      case \"end\":\n                        return _context12.stop();\n                    }\n                  }\n                }, _callee9);\n              }))));\n            case 17:\n              return _context13.abrupt(\"return\", _promise.default.resolve(target));\n            case 18:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee10);\n    }))();\n  },\n  save: function (target\n  /*: ParseObject | Array<ParseObject | ParseFile>*/, options\n  /*: RequestOptions*/) {\n    var batchSize = options && options.batchSize ? options.batchSize : _CoreManager.default.get('REQUEST_BATCH_SIZE');\n    var localDatastore = _CoreManager.default.getLocalDatastore();\n    var mapIdForPin = {};\n    var RESTController = _CoreManager.default.getRESTController();\n    var stateController = _CoreManager.default.getObjectStateController();\n    var allowCustomObjectId = _CoreManager.default.get('ALLOW_CUSTOM_OBJECT_ID');\n    options = options || {};\n    options.returnStatus = options.returnStatus || true;\n    if ((0, _isArray.default)(target)) {\n      if (target.length < 1) {\n        return _promise.default.resolve([]);\n      }\n      var unsaved = (0, _concat.default)(target).call(target);\n      for (var i = 0; i < target.length; i++) {\n        if (target[i] instanceof ParseObject) {\n          unsaved = (0, _concat.default)(unsaved).call(unsaved, (0, _unsavedChildren.default)(target[i], true));\n        }\n      }\n      unsaved = (0, _unique.default)(unsaved);\n      var filesSaved\n      /*: Array<ParseFile>*/ = [];\n      var pending\n      /*: Array<ParseObject>*/ = [];\n      (0, _forEach.default)(unsaved).call(unsaved, function (el) {\n        if (el instanceof _ParseFile.default) {\n          filesSaved.push(el.save(options));\n        } else if (el instanceof ParseObject) {\n          if (allowCustomObjectId && !el.id) {\n            throw new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'objectId must not be empty, null or undefined');\n          }\n          pending.push(el);\n        }\n      });\n      return _promise.default.all(filesSaved).then(function () {\n        var objectError = null;\n        return (0, _promiseUtils.continueWhile)(function () {\n          return pending.length > 0;\n        }, function () {\n          var batch = [];\n          var nextPending = [];\n          (0, _forEach.default)(pending).call(pending, function (el) {\n            if (batch.length < batchSize && (0, _canBeSerialized.default)(el)) {\n              batch.push(el);\n            } else {\n              nextPending.push(el);\n            }\n          });\n          pending = nextPending;\n          if (batch.length < 1) {\n            return _promise.default.reject(new _ParseError.default(_ParseError.default.OTHER_CAUSE, 'Tried to save a batch with a cycle.'));\n          } // Queue up tasks for each object in the batch.\n          // When every task is ready, the API request will execute\n\n          var batchReturned = new _promiseUtils.resolvingPromise();\n          var batchReady = [];\n          var batchTasks = [];\n          (0, _forEach.default)(batch).call(batch, function (obj, index) {\n            var ready = new _promiseUtils.resolvingPromise();\n            batchReady.push(ready);\n            stateController.pushPendingState(obj._getStateIdentifier());\n            batchTasks.push(stateController.enqueueTask(obj._getStateIdentifier(), function () {\n              ready.resolve();\n              return batchReturned.then(function (responses) {\n                if (responses[index].hasOwnProperty('success')) {\n                  var objectId = responses[index].success.objectId;\n                  var status = responses[index]._status;\n                  delete responses[index]._status;\n                  mapIdForPin[objectId] = obj._localId;\n                  obj._handleSaveResponse(responses[index].success, status);\n                } else {\n                  if (!objectError && responses[index].hasOwnProperty('error')) {\n                    var serverError = responses[index].error;\n                    objectError = new _ParseError.default(serverError.code, serverError.error); // Cancel the rest of the save\n\n                    pending = [];\n                  }\n                  obj._handleSaveError();\n                }\n              });\n            }));\n          });\n          (0, _promiseUtils.when)(batchReady).then(function () {\n            // Kick off the batch request\n            return RESTController.request('POST', 'batch', {\n              requests: (0, _map.default)(batch).call(batch, function (obj) {\n                var params = obj._getSaveParams();\n                params.path = getServerUrlPath() + params.path;\n                return params;\n              })\n            }, options);\n          }).then(batchReturned.resolve, function (error) {\n            batchReturned.reject(new _ParseError.default(_ParseError.default.INCORRECT_TYPE, error.message));\n          });\n          return (0, _promiseUtils.when)(batchTasks);\n        }).then(/*#__PURE__*/(0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee11() {\n          var _iterator4, _step4, object;\n          return _regenerator.default.wrap(function (_context14) {\n            while (1) {\n              switch (_context14.prev = _context14.next) {\n                case 0:\n                  if (!objectError) {\n                    _context14.next = 2;\n                    break;\n                  }\n                  return _context14.abrupt(\"return\", _promise.default.reject(objectError));\n                case 2:\n                  _iterator4 = _createForOfIteratorHelper(target);\n                  _context14.prev = 3;\n                  _iterator4.s();\n                case 5:\n                  if ((_step4 = _iterator4.n()).done) {\n                    _context14.next = 13;\n                    break;\n                  }\n                  object = _step4.value;\n                  _context14.next = 9;\n                  return localDatastore._updateLocalIdForObject(mapIdForPin[object.id], object);\n                case 9:\n                  _context14.next = 11;\n                  return localDatastore._updateObjectIfPinned(object);\n                case 11:\n                  _context14.next = 5;\n                  break;\n                case 13:\n                  _context14.next = 18;\n                  break;\n                case 15:\n                  _context14.prev = 15;\n                  _context14.t0 = _context14[\"catch\"](3);\n                  _iterator4.e(_context14.t0);\n                case 18:\n                  _context14.prev = 18;\n                  _iterator4.f();\n                  return _context14.finish(18);\n                case 21:\n                  return _context14.abrupt(\"return\", _promise.default.resolve(target));\n                case 22:\n                case \"end\":\n                  return _context14.stop();\n              }\n            }\n          }, _callee11, null, [[3, 15, 18, 21]]);\n        })));\n      });\n    } else if (target instanceof ParseObject) {\n      if (allowCustomObjectId && !target.id) {\n        throw new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'objectId must not be empty, null or undefined');\n      } // generate _localId in case if cascadeSave=false\n\n      target._getId();\n      var localId = target._localId; // copying target lets Flow guarantee the pointer isn't modified elsewhere\n\n      var targetCopy = target;\n      var task = function () {\n        var params = targetCopy._getSaveParams();\n        return RESTController.request(params.method, params.path, params.body, options).then(function (response) {\n          var status = response._status;\n          delete response._status;\n          targetCopy._handleSaveResponse(response, status);\n        }, function (error) {\n          targetCopy._handleSaveError();\n          return _promise.default.reject(error);\n        });\n      };\n      stateController.pushPendingState(target._getStateIdentifier());\n      return stateController.enqueueTask(target._getStateIdentifier(), task).then(/*#__PURE__*/(0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee12() {\n        return _regenerator.default.wrap(function (_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.next = 2;\n                return localDatastore._updateLocalIdForObject(localId, target);\n              case 2:\n                _context15.next = 4;\n                return localDatastore._updateObjectIfPinned(target);\n              case 4:\n                return _context15.abrupt(\"return\", target);\n              case 5:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee12);\n      })), function (error) {\n        return _promise.default.reject(error);\n      });\n    }\n    return _promise.default.resolve();\n  }\n};\n_CoreManager.default.setObjectController(DefaultController);\nvar _default = ParseObject;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireWildcard","require","_interopRequireDefault","_getIterator","_Array$isArray2","_getIteratorMethod","_Symbol","_Array$from","_sliceInstanceProperty","_Object$defineProperty2","_Object$defineProperties","_Object$getOwnPropertyDescriptors","_forEachInstanceProperty2","_Object$getOwnPropertyDescriptor","_filterInstanceProperty","_Object$getOwnPropertySymbols","_Object$keys2","exports","value","default","_map","_find","_defineProperty2","_create","_promise","_isArray","_regenerator","_asyncToGenerator2","_concat","_getPrototypeOf","_includes","_stringify","_forEach","_keys","_freeze","_typeof2","_classCallCheck2","_createClass2","_defineProperty3","_indexOf","_CoreManager","_canBeSerialized","_decode","_encode","_escape2","_EventuallyQueue","_ParseACL","_parseDate","_ParseError","_ParseFile","_promiseUtils","_LocalDatastoreUtils","_ParseOp","_ParseQuery","_ParseRelation","SingleInstanceStateController","_unique","UniqueInstanceStateController","_unsavedChildren","_createForOfIteratorHelper","o","allowArrayLike","it","_unsupportedIterableToArray","length","i","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","return","minLen","_context18","_arrayLikeToArray","Object","prototype","toString","call","constructor","name","test","arr","len","arr2","Array","ownKeys","object","enumerableOnly","keys","symbols","sym","enumerable","push","apply","_objectSpread","target","arguments","source","_context16","key","_context17","uuidv4","classMap","objectCount","singleInstance","get","setObjectStateController","getServerUrlPath","serverUrl","url","replace","substr","ParseObject","className","attributes","options","initialize","toSet","_objCount","_attr","set","Error","stateController","getObjectStateController","estimateAttributes","_getStateIdentifier","_getServerData","createdAt","updatedAt","id","_localId","localId","_getId","getServerData","serverData","unset","_attr2","undefined","setServerData","getPendingOps","keysToClear","pending","_getPendingOps","latest","objectCache","getObjectCache","dirty","_attr3","val","json","stringified","seen","offline","toJSON","__type","dirtyObjects","_getDirtyObjectAttributes","attr","isDotNotation","field","fieldName","split","SetOp","method","body","_getSaveJSON","path","objectId","initializeState","decoded","_attr4","_ensureParentAndKey","commitServerChanges","existed","state","getState","serverId","oldState","removeState","response","status","changes","popPendingState","RelationOp","applyTo","UnsetOp","_migrateId","_setExisted","mergeFirstPendingState","seenEntry","attrs","_attr5","_attr6","other","pendingOps","hasOwnProperty","_attr7","_attr8","newOps","readonly","readOnlyAttributes","k","Op","__op","opFromJSON","relation","targetClassName","currentAttributes","newValues","_attr9","ignoreValidation","validation","validate","error","last","_attr10","nextOp","mergeWith","setPendingOp","amount","IncrementOp","item","AddOp","items","AddUniqueOp","RemoveOp","clone","copy","a","duplicateState","_exists","mark","_callee","query","wrap","_context","prev","abrupt","t0","code","OBJECT_NOT_FOUND","stop","ACL","OTHER_CAUSE","_key","INVALID_KEY_NAME","acl","keysToRevert","_len","_key2","_iterator","_step","_key3","_clearPendingOps","erasable","_attr11","fetchOptions","useMasterKey","sessionToken","context","include","_context2","_context3","controller","getObjectController","fetch","_saveEventually","_callee2","_context4","save","message","poll","arg1","arg2","arg3","_this","reject","saveOptions","installationId","unsaved","cascadeSave","then","_destroyEventually","_callee3","_context5","destroy","destroyOptions","resolve","pinAllWithName","DEFAULT_PIN","unPinAllWithName","_isPinned","_callee4","localDatastore","objectKey","pin","_context6","getLocalDatastore","isEnabled","getKeyForObject","fromPinWithName","sent","_fetchFromLocalDatastore","_callee5","pinned","result","_context7","_serializeObject","fromJSON","_finishFetch","clearAllState","list","queryOptions","handleIncludeOptions","fetchAll","fetchAllIfNeeded","_context8","batchSize","obj","override","otherAttributes","_attr12","preserved","_preserveFieldsOnFetch","_clearServerData","protoProps","classProps","extend","adjustedClassName","parentProto","__super__","ParseObjectSubclass","writable","configurable","prop","_prop","createWithoutData","objects","_handlePinAllWithName","_handleUnPinAllWithName","unPinWithName","PIN_PREFIX","DefaultController","forceFetch","objs","ids","results","el","INVALID_CLASS_NAME","MISSING_OBJECT_ID","isDataAvailable","containedIn","_limit","_ref","_callee6","idMap","_i","_obj","_iterator2","_step2","_context9","_updateObjectIfPinned","finish","RESTController","getRESTController","params","join","request","_ref2","_callee7","_context10","_callee10","batches","deleteCompleted","errors","_context13","pop","batch","requests","_err","_callee8","aggregate","_iterator3","_step3","_context11","AGGREGATE_ERROR","_destroyObjectIfPinned","_callee9","_context12","mapIdForPin","allowCustomObjectId","returnStatus","filesSaved","all","objectError","continueWhile","nextPending","batchReturned","resolvingPromise","batchReady","batchTasks","index","ready","pushPendingState","enqueueTask","responses","success","_status","_handleSaveResponse","serverError","_handleSaveError","when","_getSaveParams","INCORRECT_TYPE","_callee11","_iterator4","_step4","_context14","_updateLocalIdForObject","targetCopy","task","_callee12","_context15","setObjectController","_default"],"sources":["C:/Users/chtdu/Documents/WEB DEV/git-repo/react-webpack8/node_modules/parse/lib/browser/ParseObject.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs3/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _getIterator = require(\"@babel/runtime-corejs3/core-js/get-iterator\");\n\nvar _Array$isArray2 = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\n\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\nvar _Object$defineProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _Object$defineProperties = require(\"@babel/runtime-corejs3/core-js-stable/object/define-properties\");\n\nvar _Object$getOwnPropertyDescriptors = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors\");\n\nvar _forEachInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\");\n\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\n\nvar _filterInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\");\n\nvar _Object$getOwnPropertySymbols = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols\");\n\nvar _Object$keys2 = require(\"@babel/runtime-corejs3/core-js-stable/object/keys\");\n\n_Object$defineProperty2(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\"));\n\nvar _create = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/create\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _getPrototypeOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/get-prototype-of\"));\n\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _freeze = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/freeze\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _defineProperty3 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\n\nvar _canBeSerialized = _interopRequireDefault(require(\"./canBeSerialized\"));\n\nvar _decode = _interopRequireDefault(require(\"./decode\"));\n\nvar _encode = _interopRequireDefault(require(\"./encode\"));\n\nvar _escape2 = _interopRequireDefault(require(\"./escape\"));\n\nvar _EventuallyQueue = _interopRequireDefault(require(\"./EventuallyQueue\"));\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _parseDate = _interopRequireDefault(require(\"./parseDate\"));\n\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _promiseUtils = require(\"./promiseUtils\");\n\nvar _LocalDatastoreUtils = require(\"./LocalDatastoreUtils\");\n\nvar _ParseOp = require(\"./ParseOp\");\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n\nvar SingleInstanceStateController = _interopRequireWildcard(require(\"./SingleInstanceStateController\"));\n\nvar _unique = _interopRequireDefault(require(\"./unique\"));\n\nvar UniqueInstanceStateController = _interopRequireWildcard(require(\"./UniqueInstanceStateController\"));\n\nvar _unsavedChildren = _interopRequireDefault(require(\"./unsavedChildren\"));\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof _Symbol === \"undefined\" || _getIteratorMethod(o) == null) {\n    if (_Array$isArray2(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = _getIterator(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context18;\n\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context18 = Object.prototype.toString.call(o)).call(_context18, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = _Object$keys2(object);\n\n  if (_Object$getOwnPropertySymbols) {\n    var symbols = _Object$getOwnPropertySymbols(object);\n\n    if (enumerableOnly) symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) {\n      return _Object$getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      var _context16;\n\n      _forEachInstanceProperty2(_context16 = ownKeys(Object(source), true)).call(_context16, function (key) {\n        (0, _defineProperty3.default)(target, key, source[key]);\n      });\n    } else if (_Object$getOwnPropertyDescriptors) {\n      _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source));\n    } else {\n      var _context17;\n\n      _forEachInstanceProperty2(_context17 = ownKeys(Object(source))).call(_context17, function (key) {\n        _Object$defineProperty2(target, key, _Object$getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar uuidv4 = require('uuid/v4');\n/*:: export type Pointer = {\n  __type: string,\n  className: string,\n  objectId: string,\n};*/\n\n/*:: type SaveParams = {\n  method: string,\n  path: string,\n  body: AttributeMap,\n};*/\n\n/*:: export type SaveOptions = FullOptions & {\n  cascadeSave?: boolean,\n  context?: AttributeMap,\n};*/\n// Mapping of class names to constructors, so we can populate objects from the\n// server with appropriate subclasses of ParseObject\n\n\nvar classMap = {}; // Global counter for generating unique Ids for non-single-instance objects\n\nvar objectCount = 0; // On web clients, objects are single-instance: any two objects with the same Id\n// will have the same attributes. However, this may be dangerous default\n// behavior in a server scenario\n\nvar singleInstance = !_CoreManager.default.get('IS_NODE');\n\nif (singleInstance) {\n  _CoreManager.default.setObjectStateController(SingleInstanceStateController);\n} else {\n  _CoreManager.default.setObjectStateController(UniqueInstanceStateController);\n}\n\nfunction getServerUrlPath() {\n  var serverUrl = _CoreManager.default.get('SERVER_URL');\n\n  if (serverUrl[serverUrl.length - 1] !== '/') {\n    serverUrl += '/';\n  }\n\n  var url = serverUrl.replace(/https?:\\/\\//, '');\n  return url.substr((0, _indexOf.default)(url).call(url, '/'));\n}\n/**\n * Creates a new model with defined attributes.\n *\n * <p>You won't normally call this method directly.  It is recommended that\n * you use a subclass of <code>Parse.Object</code> instead, created by calling\n * <code>extend</code>.</p>\n *\n * <p>However, if you don't want to use a subclass, or aren't sure which\n * subclass is appropriate, you can use this form:<pre>\n *     var object = new Parse.Object(\"ClassName\");\n * </pre>\n * That is basically equivalent to:<pre>\n *     var MyClass = Parse.Object.extend(\"ClassName\");\n *     var object = new MyClass();\n * </pre></p>\n *\n * @alias Parse.Object\n */\n\n\nvar ParseObject = /*#__PURE__*/function () {\n  /**\n   * @param {string} className The class name for the object\n   * @param {object} attributes The initial set of data to store in the object.\n   * @param {object} options The options for this object instance.\n   */\n  function ParseObject(className\n  /*: ?string | { className: string, [attr: string]: mixed }*/\n  , attributes\n  /*:: ?: { [attr: string]: mixed }*/\n  , options\n  /*:: ?: { ignoreValidation: boolean }*/\n  ) {\n    (0, _classCallCheck2.default)(this, ParseObject);\n    (0, _defineProperty3.default)(this, \"id\", void 0);\n    (0, _defineProperty3.default)(this, \"_localId\", void 0);\n    (0, _defineProperty3.default)(this, \"_objCount\", void 0);\n    (0, _defineProperty3.default)(this, \"className\", void 0); // Enable legacy initializers\n\n    if (typeof this.initialize === 'function') {\n      this.initialize.apply(this, arguments);\n    }\n\n    var toSet = null;\n    this._objCount = objectCount++;\n\n    if (typeof className === 'string') {\n      this.className = className;\n\n      if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n        toSet = attributes;\n      }\n    } else if (className && (0, _typeof2.default)(className) === 'object') {\n      this.className = className.className;\n      toSet = {};\n\n      for (var _attr in className) {\n        if (_attr !== 'className') {\n          toSet[_attr] = className[_attr];\n        }\n      }\n\n      if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n        options = attributes;\n      }\n    }\n\n    if (toSet && !this.set(toSet, options)) {\n      throw new Error(\"Can't create an invalid Parse Object\");\n    }\n  }\n  /**\n   * The ID of this object, unique within its class.\n   *\n   * @property {string} id\n   */\n\n\n  (0, _createClass2.default)(ParseObject, [{\n    key: \"attributes\",\n    get:\n    /** Prototype getters / setters **/\n    function ()\n    /*: AttributeMap*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      return (0, _freeze.default)(stateController.estimateAttributes(this._getStateIdentifier()));\n    }\n    /**\n     * The first time this object was saved on the server.\n     *\n     * @property {Date} createdAt\n     * @returns {Date}\n     */\n\n  }, {\n    key: \"createdAt\",\n    get: function ()\n    /*: ?Date*/\n    {\n      return this._getServerData().createdAt;\n    }\n    /**\n     * The last time this object was updated on the server.\n     *\n     * @property {Date} updatedAt\n     * @returns {Date}\n     */\n\n  }, {\n    key: \"updatedAt\",\n    get: function ()\n    /*: ?Date*/\n    {\n      return this._getServerData().updatedAt;\n    }\n    /** Private methods **/\n\n    /**\n     * Returns a local or server Id used uniquely identify this object\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: \"_getId\",\n    value: function ()\n    /*: string*/\n    {\n      if (typeof this.id === 'string') {\n        return this.id;\n      }\n\n      if (typeof this._localId === 'string') {\n        return this._localId;\n      }\n\n      var localId = 'local' + uuidv4();\n      this._localId = localId;\n      return localId;\n    }\n    /**\n     * Returns a unique identifier used to pull data from the State Controller.\n     *\n     * @returns {Parse.Object|object}\n     */\n\n  }, {\n    key: \"_getStateIdentifier\",\n    value: function ()\n    /*: ParseObject | { id: string, className: string }*/\n    {\n      if (singleInstance) {\n        var id = this.id;\n\n        if (!id) {\n          id = this._getId();\n        }\n\n        return {\n          id: id,\n          className: this.className\n        };\n      } else {\n        return this;\n      }\n    }\n  }, {\n    key: \"_getServerData\",\n    value: function ()\n    /*: AttributeMap*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      return stateController.getServerData(this._getStateIdentifier());\n    }\n  }, {\n    key: \"_clearServerData\",\n    value: function () {\n      var serverData = this._getServerData();\n\n      var unset = {};\n\n      for (var _attr2 in serverData) {\n        unset[_attr2] = undefined;\n      }\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      stateController.setServerData(this._getStateIdentifier(), unset);\n    }\n  }, {\n    key: \"_getPendingOps\",\n    value: function ()\n    /*: Array<OpsMap>*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      return stateController.getPendingOps(this._getStateIdentifier());\n    }\n    /**\n     * @param {Array<string>} [keysToClear] - if specified, only ops matching\n     * these fields will be cleared\n     */\n\n  }, {\n    key: \"_clearPendingOps\",\n    value: function (keysToClear\n    /*:: ?: Array<string>*/\n    ) {\n      var pending = this._getPendingOps();\n\n      var latest = pending[pending.length - 1];\n      var keys = keysToClear || (0, _keys.default)(latest);\n      (0, _forEach.default)(keys).call(keys, function (key) {\n        delete latest[key];\n      });\n    }\n  }, {\n    key: \"_getDirtyObjectAttributes\",\n    value: function ()\n    /*: AttributeMap*/\n    {\n      var attributes = this.attributes;\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      var objectCache = stateController.getObjectCache(this._getStateIdentifier());\n      var dirty = {};\n\n      for (var _attr3 in attributes) {\n        var val = attributes[_attr3];\n\n        if (val && (0, _typeof2.default)(val) === 'object' && !(val instanceof ParseObject) && !(val instanceof _ParseFile.default) && !(val instanceof _ParseRelation.default)) {\n          // Due to the way browsers construct maps, the key order will not change\n          // unless the object is changed\n          try {\n            var json = (0, _encode.default)(val, false, true);\n            var stringified = (0, _stringify.default)(json);\n\n            if (objectCache[_attr3] !== stringified) {\n              dirty[_attr3] = val;\n            }\n          } catch (e) {\n            // Error occurred, possibly by a nested unsaved pointer in a mutable container\n            // No matter how it happened, it indicates a change in the attribute\n            dirty[_attr3] = val;\n          }\n        }\n      }\n\n      return dirty;\n    }\n  }, {\n    key: \"_toFullJSON\",\n    value: function (seen\n    /*:: ?: Array<any>*/\n    , offline\n    /*:: ?: boolean*/\n    )\n    /*: AttributeMap*/\n    {\n      var json\n      /*: { [key: string]: mixed }*/\n      = this.toJSON(seen, offline);\n      json.__type = 'Object';\n      json.className = this.className;\n      return json;\n    }\n  }, {\n    key: \"_getSaveJSON\",\n    value: function ()\n    /*: AttributeMap*/\n    {\n      var pending = this._getPendingOps();\n\n      var dirtyObjects = this._getDirtyObjectAttributes();\n\n      var json = {};\n\n      for (var attr in dirtyObjects) {\n        var isDotNotation = false;\n\n        for (var i = 0; i < pending.length; i += 1) {\n          for (var field in pending[i]) {\n            // Dot notation operations are handled later\n            if ((0, _includes.default)(field).call(field, '.')) {\n              var fieldName = field.split('.')[0];\n\n              if (fieldName === attr) {\n                isDotNotation = true;\n                break;\n              }\n            }\n          }\n        }\n\n        if (!isDotNotation) {\n          json[attr] = new _ParseOp.SetOp(dirtyObjects[attr]).toJSON();\n        }\n      }\n\n      for (attr in pending[0]) {\n        json[attr] = pending[0][attr].toJSON();\n      }\n\n      return json;\n    }\n  }, {\n    key: \"_getSaveParams\",\n    value: function ()\n    /*: SaveParams*/\n    {\n      var method = this.id ? 'PUT' : 'POST';\n\n      var body = this._getSaveJSON();\n\n      var path = 'classes/' + this.className;\n\n      if (_CoreManager.default.get('ALLOW_CUSTOM_OBJECT_ID')) {\n        if (!this.createdAt) {\n          method = 'POST';\n          body.objectId = this.id;\n        } else {\n          method = 'PUT';\n          path += '/' + this.id;\n        }\n      } else if (this.id) {\n        path += '/' + this.id;\n      } else if (this.className === '_User') {\n        path = 'users';\n      }\n\n      return {\n        method: method,\n        body: body,\n        path: path\n      };\n    }\n  }, {\n    key: \"_finishFetch\",\n    value: function (serverData\n    /*: AttributeMap*/\n    ) {\n      if (!this.id && serverData.objectId) {\n        this.id = serverData.objectId;\n      }\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      stateController.initializeState(this._getStateIdentifier());\n      var decoded = {};\n\n      for (var _attr4 in serverData) {\n        if (_attr4 === 'ACL') {\n          decoded[_attr4] = new _ParseACL.default(serverData[_attr4]);\n        } else if (_attr4 !== 'objectId') {\n          decoded[_attr4] = (0, _decode.default)(serverData[_attr4]);\n\n          if (decoded[_attr4] instanceof _ParseRelation.default) {\n            decoded[_attr4]._ensureParentAndKey(this, _attr4);\n          }\n        }\n      }\n\n      if (decoded.createdAt && typeof decoded.createdAt === 'string') {\n        decoded.createdAt = (0, _parseDate.default)(decoded.createdAt);\n      }\n\n      if (decoded.updatedAt && typeof decoded.updatedAt === 'string') {\n        decoded.updatedAt = (0, _parseDate.default)(decoded.updatedAt);\n      }\n\n      if (!decoded.updatedAt && decoded.createdAt) {\n        decoded.updatedAt = decoded.createdAt;\n      }\n\n      stateController.commitServerChanges(this._getStateIdentifier(), decoded);\n    }\n  }, {\n    key: \"_setExisted\",\n    value: function (existed\n    /*: boolean*/\n    ) {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      var state = stateController.getState(this._getStateIdentifier());\n\n      if (state) {\n        state.existed = existed;\n      }\n    }\n  }, {\n    key: \"_migrateId\",\n    value: function (serverId\n    /*: string*/\n    ) {\n      if (this._localId && serverId) {\n        if (singleInstance) {\n          var stateController = _CoreManager.default.getObjectStateController();\n\n          var oldState = stateController.removeState(this._getStateIdentifier());\n          this.id = serverId;\n          delete this._localId;\n\n          if (oldState) {\n            stateController.initializeState(this._getStateIdentifier(), oldState);\n          }\n        } else {\n          this.id = serverId;\n          delete this._localId;\n        }\n      }\n    }\n  }, {\n    key: \"_handleSaveResponse\",\n    value: function (response\n    /*: AttributeMap*/\n    , status\n    /*: number*/\n    ) {\n      var changes = {};\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      var pending = stateController.popPendingState(this._getStateIdentifier());\n\n      for (var attr in pending) {\n        if (pending[attr] instanceof _ParseOp.RelationOp) {\n          changes[attr] = pending[attr].applyTo(undefined, this, attr);\n        } else if (!(attr in response) && !(0, _includes.default)(attr).call(attr, '.')) {\n          // Only SetOps and UnsetOps should not come back with results\n          changes[attr] = pending[attr].applyTo(undefined);\n        }\n      }\n\n      for (attr in response) {\n        if ((attr === 'createdAt' || attr === 'updatedAt') && typeof response[attr] === 'string') {\n          changes[attr] = (0, _parseDate.default)(response[attr]);\n        } else if (attr === 'ACL') {\n          changes[attr] = new _ParseACL.default(response[attr]);\n        } else if (attr !== 'objectId') {\n          var val = (0, _decode.default)(response[attr]);\n\n          if (val && (0, _getPrototypeOf.default)(val) === Object.prototype) {\n            changes[attr] = _objectSpread(_objectSpread({}, this.attributes[attr]), val);\n          } else {\n            changes[attr] = val;\n          }\n\n          if (changes[attr] instanceof _ParseOp.UnsetOp) {\n            changes[attr] = undefined;\n          }\n        }\n      }\n\n      if (changes.createdAt && !changes.updatedAt) {\n        changes.updatedAt = changes.createdAt;\n      }\n\n      this._migrateId(response.objectId);\n\n      if (status !== 201) {\n        this._setExisted(true);\n      }\n\n      stateController.commitServerChanges(this._getStateIdentifier(), changes);\n    }\n  }, {\n    key: \"_handleSaveError\",\n    value: function () {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      stateController.mergeFirstPendingState(this._getStateIdentifier());\n    }\n    /** Public methods **/\n\n  }, {\n    key: \"initialize\",\n    value: function () {// NOOP\n    }\n    /**\n     * Returns a JSON version of the object suitable for saving to Parse.\n     *\n     * @param seen\n     * @param offline\n     * @returns {object}\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function (seen\n    /*: Array<any> | void*/\n    , offline\n    /*:: ?: boolean*/\n    )\n    /*: AttributeMap*/\n    {\n      var seenEntry = this.id ? this.className + ':' + this.id : this;\n      seen = seen || [seenEntry];\n      var json = {};\n      var attrs = this.attributes;\n\n      for (var _attr5 in attrs) {\n        if ((_attr5 === 'createdAt' || _attr5 === 'updatedAt') && attrs[_attr5].toJSON) {\n          json[_attr5] = attrs[_attr5].toJSON();\n        } else {\n          json[_attr5] = (0, _encode.default)(attrs[_attr5], false, false, seen, offline);\n        }\n      }\n\n      var pending = this._getPendingOps();\n\n      for (var _attr6 in pending[0]) {\n        json[_attr6] = pending[0][_attr6].toJSON(offline);\n      }\n\n      if (this.id) {\n        json.objectId = this.id;\n      }\n\n      return json;\n    }\n    /**\n     * Determines whether this ParseObject is equal to another ParseObject\n     *\n     * @param {object} other - An other object ot compare\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"equals\",\n    value: function (other\n    /*: mixed*/\n    )\n    /*: boolean*/\n    {\n      if (this === other) {\n        return true;\n      }\n\n      return other instanceof ParseObject && this.className === other.className && this.id === other.id && typeof this.id !== 'undefined';\n    }\n    /**\n     * Returns true if this object has been modified since its last\n     * save/refresh.  If an attribute is specified, it returns true only if that\n     * particular attribute has been modified since the last save/refresh.\n     *\n     * @param {string} attr An attribute name (optional).\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"dirty\",\n    value: function (attr\n    /*:: ?: string*/\n    )\n    /*: boolean*/\n    {\n      if (!this.id) {\n        return true;\n      }\n\n      var pendingOps = this._getPendingOps();\n\n      var dirtyObjects = this._getDirtyObjectAttributes();\n\n      if (attr) {\n        if (dirtyObjects.hasOwnProperty(attr)) {\n          return true;\n        }\n\n        for (var i = 0; i < pendingOps.length; i++) {\n          if (pendingOps[i].hasOwnProperty(attr)) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n\n      if ((0, _keys.default)(pendingOps[0]).length !== 0) {\n        return true;\n      }\n\n      if ((0, _keys.default)(dirtyObjects).length !== 0) {\n        return true;\n      }\n\n      return false;\n    }\n    /**\n     * Returns an array of keys that have been modified since last save/refresh\n     *\n     * @returns {string[]}\n     */\n\n  }, {\n    key: \"dirtyKeys\",\n    value: function ()\n    /*: Array<string>*/\n    {\n      var pendingOps = this._getPendingOps();\n\n      var keys = {};\n\n      for (var i = 0; i < pendingOps.length; i++) {\n        for (var _attr7 in pendingOps[i]) {\n          keys[_attr7] = true;\n        }\n      }\n\n      var dirtyObjects = this._getDirtyObjectAttributes();\n\n      for (var _attr8 in dirtyObjects) {\n        keys[_attr8] = true;\n      }\n\n      return (0, _keys.default)(keys);\n    }\n    /**\n     * Returns true if the object has been fetched.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isDataAvailable\",\n    value: function ()\n    /*: boolean*/\n    {\n      var serverData = this._getServerData();\n\n      return !!(0, _keys.default)(serverData).length;\n    }\n    /**\n     * Gets a Pointer referencing this Object.\n     *\n     * @returns {Pointer}\n     */\n\n  }, {\n    key: \"toPointer\",\n    value: function ()\n    /*: Pointer*/\n    {\n      if (!this.id) {\n        throw new Error('Cannot create a pointer to an unsaved ParseObject');\n      }\n\n      return {\n        __type: 'Pointer',\n        className: this.className,\n        objectId: this.id\n      };\n    }\n    /**\n     * Gets a Pointer referencing this Object.\n     *\n     * @returns {Pointer}\n     */\n\n  }, {\n    key: \"toOfflinePointer\",\n    value: function ()\n    /*: Pointer*/\n    {\n      if (!this._localId) {\n        throw new Error('Cannot create a offline pointer to a saved ParseObject');\n      }\n\n      return {\n        __type: 'Object',\n        className: this.className,\n        _localId: this._localId\n      };\n    }\n    /**\n     * Gets the value of an attribute.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @returns {*}\n     */\n\n  }, {\n    key: \"get\",\n    value: function (attr\n    /*: string*/\n    )\n    /*: mixed*/\n    {\n      return this.attributes[attr];\n    }\n    /**\n     * Gets a relation on the given class for the attribute.\n     *\n     * @param {string} attr The attribute to get the relation for.\n     * @returns {Parse.Relation}\n     */\n\n  }, {\n    key: \"relation\",\n    value: function (attr\n    /*: string*/\n    )\n    /*: ParseRelation*/\n    {\n      var value = this.get(attr);\n\n      if (value) {\n        if (!(value instanceof _ParseRelation.default)) {\n          throw new Error('Called relation() on non-relation field ' + attr);\n        }\n\n        value._ensureParentAndKey(this, attr);\n\n        return value;\n      }\n\n      return new _ParseRelation.default(this, attr);\n    }\n    /**\n     * Gets the HTML-escaped value of an attribute.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @returns {string}\n     */\n\n  }, {\n    key: \"escape\",\n    value: function (attr\n    /*: string*/\n    )\n    /*: string*/\n    {\n      var val = this.attributes[attr];\n\n      if (val == null) {\n        return '';\n      }\n\n      if (typeof val !== 'string') {\n        if (typeof val.toString !== 'function') {\n          return '';\n        }\n\n        val = val.toString();\n      }\n\n      return (0, _escape2.default)(val);\n    }\n    /**\n     * Returns <code>true</code> if the attribute contains a value that is not\n     * null or undefined.\n     *\n     * @param {string} attr The string name of the attribute.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"has\",\n    value: function (attr\n    /*: string*/\n    )\n    /*: boolean*/\n    {\n      var attributes = this.attributes;\n\n      if (attributes.hasOwnProperty(attr)) {\n        return attributes[attr] != null;\n      }\n\n      return false;\n    }\n    /**\n     * Sets a hash of model attributes on the object.\n     *\n     * <p>You can call it with an object containing keys and values, with one\n     * key and value, or dot notation.  For example:<pre>\n     *   gameTurn.set({\n     *     player: player1,\n     *     diceRoll: 2\n     *   }, {\n     *     error: function(gameTurnAgain, error) {\n     *       // The set failed validation.\n     *     }\n     *   });\n     *\n     *   game.set(\"currentPlayer\", player2, {\n     *     error: function(gameTurnAgain, error) {\n     *       // The set failed validation.\n     *     }\n     *   });\n     *\n     *   game.set(\"finished\", true);</pre></p>\n     *\n     *   game.set(\"player.score\", 10);</pre></p>\n     *\n     * @param {(string|object)} key The key to set.\n     * @param {(string|object)} value The value to give it.\n     * @param {object} options A set of options for the set.\n     *     The only supported option is <code>error</code>.\n     * @returns {(ParseObject|boolean)} true if the set succeeded.\n     */\n\n  }, {\n    key: \"set\",\n    value: function (key\n    /*: mixed*/\n    , value\n    /*: mixed*/\n    , options\n    /*:: ?: mixed*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      var changes = {};\n      var newOps = {};\n\n      if (key && (0, _typeof2.default)(key) === 'object') {\n        changes = key;\n        options = value;\n      } else if (typeof key === 'string') {\n        changes[key] = value;\n      } else {\n        return this;\n      }\n\n      options = options || {};\n      var readonly = [];\n\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        readonly = (0, _concat.default)(readonly).call(readonly, this.constructor.readOnlyAttributes());\n      }\n\n      for (var k in changes) {\n        if (k === 'createdAt' || k === 'updatedAt') {\n          // This property is read-only, but for legacy reasons we silently\n          // ignore it\n          continue;\n        }\n\n        if ((0, _indexOf.default)(readonly).call(readonly, k) > -1) {\n          throw new Error('Cannot modify readonly attribute: ' + k);\n        }\n\n        if (options.unset) {\n          newOps[k] = new _ParseOp.UnsetOp();\n        } else if (changes[k] instanceof _ParseOp.Op) {\n          newOps[k] = changes[k];\n        } else if (changes[k] && (0, _typeof2.default)(changes[k]) === 'object' && typeof changes[k].__op === 'string') {\n          newOps[k] = (0, _ParseOp.opFromJSON)(changes[k]);\n        } else if (k === 'objectId' || k === 'id') {\n          if (typeof changes[k] === 'string') {\n            this.id = changes[k];\n          }\n        } else if (k === 'ACL' && (0, _typeof2.default)(changes[k]) === 'object' && !(changes[k] instanceof _ParseACL.default)) {\n          newOps[k] = new _ParseOp.SetOp(new _ParseACL.default(changes[k]));\n        } else if (changes[k] instanceof _ParseRelation.default) {\n          var relation = new _ParseRelation.default(this, k);\n          relation.targetClassName = changes[k].targetClassName;\n          newOps[k] = new _ParseOp.SetOp(relation);\n        } else {\n          newOps[k] = new _ParseOp.SetOp(changes[k]);\n        }\n      }\n\n      var currentAttributes = this.attributes; // Calculate new values\n\n      var newValues = {};\n\n      for (var _attr9 in newOps) {\n        if (newOps[_attr9] instanceof _ParseOp.RelationOp) {\n          newValues[_attr9] = newOps[_attr9].applyTo(currentAttributes[_attr9], this, _attr9);\n        } else if (!(newOps[_attr9] instanceof _ParseOp.UnsetOp)) {\n          newValues[_attr9] = newOps[_attr9].applyTo(currentAttributes[_attr9]);\n        }\n      } // Validate changes\n\n\n      if (!options.ignoreValidation) {\n        var validation = this.validate(newValues);\n\n        if (validation) {\n          if (typeof options.error === 'function') {\n            options.error(this, validation);\n          }\n\n          return false;\n        }\n      } // Consolidate Ops\n\n\n      var pendingOps = this._getPendingOps();\n\n      var last = pendingOps.length - 1;\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      for (var _attr10 in newOps) {\n        var nextOp = newOps[_attr10].mergeWith(pendingOps[last][_attr10]);\n\n        stateController.setPendingOp(this._getStateIdentifier(), _attr10, nextOp);\n      }\n\n      return this;\n    }\n    /**\n     * Remove an attribute from the model. This is a noop if the attribute doesn't\n     * exist.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @param options\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"unset\",\n    value: function (attr\n    /*: string*/\n    , options\n    /*:: ?: { [opt: string]: mixed }*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      options = options || {};\n      options.unset = true;\n      return this.set(attr, null, options);\n    }\n    /**\n     * Atomically increments the value of the given attribute the next time the\n     * object is saved. If no amount is specified, 1 is used by default.\n     *\n     * @param attr {String} The key.\n     * @param amount {Number} The amount to increment by (optional).\n     * @returns {(ParseObject|boolean)}\n     */\n\n  }, {\n    key: \"increment\",\n    value: function (attr\n    /*: string*/\n    , amount\n    /*:: ?: number*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      if (typeof amount === 'undefined') {\n        amount = 1;\n      }\n\n      if (typeof amount !== 'number') {\n        throw new Error('Cannot increment by a non-numeric amount.');\n      }\n\n      return this.set(attr, new _ParseOp.IncrementOp(amount));\n    }\n    /**\n     * Atomically decrements the value of the given attribute the next time the\n     * object is saved. If no amount is specified, 1 is used by default.\n     *\n     * @param attr {String} The key.\n     * @param amount {Number} The amount to decrement by (optional).\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"decrement\",\n    value: function (attr\n    /*: string*/\n    , amount\n    /*:: ?: number*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      if (typeof amount === 'undefined') {\n        amount = 1;\n      }\n\n      if (typeof amount !== 'number') {\n        throw new Error('Cannot decrement by a non-numeric amount.');\n      }\n\n      return this.set(attr, new _ParseOp.IncrementOp(amount * -1));\n    }\n    /**\n     * Atomically add an object to the end of the array associated with a given\n     * key.\n     *\n     * @param attr {String} The key.\n     * @param item {} The item to add.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"add\",\n    value: function (attr\n    /*: string*/\n    , item\n    /*: mixed*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddOp([item]));\n    }\n    /**\n     * Atomically add the objects to the end of the array associated with a given\n     * key.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The items to add.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"addAll\",\n    value: function (attr\n    /*: string*/\n    , items\n    /*: Array<mixed>*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddOp(items));\n    }\n    /**\n     * Atomically add an object to the array associated with a given key, only\n     * if it is not already present in the array. The position of the insert is\n     * not guaranteed.\n     *\n     * @param attr {String} The key.\n     * @param item {} The object to add.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"addUnique\",\n    value: function (attr\n    /*: string*/\n    , item\n    /*: mixed*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddUniqueOp([item]));\n    }\n    /**\n     * Atomically add the objects to the array associated with a given key, only\n     * if it is not already present in the array. The position of the insert is\n     * not guaranteed.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The objects to add.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"addAllUnique\",\n    value: function (attr\n    /*: string*/\n    , items\n    /*: Array<mixed>*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddUniqueOp(items));\n    }\n    /**\n     * Atomically remove all instances of an object from the array associated\n     * with a given key.\n     *\n     * @param attr {String} The key.\n     * @param item {} The object to remove.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"remove\",\n    value: function (attr\n    /*: string*/\n    , item\n    /*: mixed*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.RemoveOp([item]));\n    }\n    /**\n     * Atomically remove all instances of the objects from the array associated\n     * with a given key.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The object to remove.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"removeAll\",\n    value: function (attr\n    /*: string*/\n    , items\n    /*: Array<mixed>*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.RemoveOp(items));\n    }\n    /**\n     * Returns an instance of a subclass of Parse.Op describing what kind of\n     * modification has been performed on this field since the last time it was\n     * saved. For example, after calling object.increment(\"x\"), calling\n     * object.op(\"x\") would return an instance of Parse.Op.Increment.\n     *\n     * @param attr {String} The key.\n     * @returns {Parse.Op} The operation, or undefined if none.\n     */\n\n  }, {\n    key: \"op\",\n    value: function (attr\n    /*: string*/\n    )\n    /*: ?Op*/\n    {\n      var pending = this._getPendingOps();\n\n      for (var i = pending.length; i--;) {\n        if (pending[i][attr]) {\n          return pending[i][attr];\n        }\n      }\n    }\n    /**\n     * Creates a new model with identical attributes to this one.\n     *\n     * @returns {Parse.Object}\n     */\n\n  }, {\n    key: \"clone\",\n    value: function clone()\n    /*: any*/\n    {\n      var clone = new this.constructor();\n\n      if (!clone.className) {\n        clone.className = this.className;\n      }\n\n      var attributes = this.attributes;\n\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        var readonly = this.constructor.readOnlyAttributes() || []; // Attributes are frozen, so we have to rebuild an object,\n        // rather than delete readonly keys\n\n        var copy = {};\n\n        for (var a in attributes) {\n          if ((0, _indexOf.default)(readonly).call(readonly, a) < 0) {\n            copy[a] = attributes[a];\n          }\n        }\n\n        attributes = copy;\n      }\n\n      if (clone.set) {\n        clone.set(attributes);\n      }\n\n      return clone;\n    }\n    /**\n     * Creates a new instance of this object. Not to be confused with clone()\n     *\n     * @returns {Parse.Object}\n     */\n\n  }, {\n    key: \"newInstance\",\n    value: function ()\n    /*: any*/\n    {\n      var clone = new this.constructor();\n\n      if (!clone.className) {\n        clone.className = this.className;\n      }\n\n      clone.id = this.id;\n\n      if (singleInstance) {\n        // Just return an object with the right id\n        return clone;\n      }\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      if (stateController) {\n        stateController.duplicateState(this._getStateIdentifier(), clone._getStateIdentifier());\n      }\n\n      return clone;\n    }\n    /**\n     * Returns true if this object has never been saved to Parse.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isNew\",\n    value: function ()\n    /*: boolean*/\n    {\n      return !this.id;\n    }\n    /**\n     * Returns true if this object was created by the Parse server when the\n     * object might have already been there (e.g. in the case of a Facebook\n     * login)\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"existed\",\n    value: function ()\n    /*: boolean*/\n    {\n      if (!this.id) {\n        return false;\n      }\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      var state = stateController.getState(this._getStateIdentifier());\n\n      if (state) {\n        return state.existed;\n      }\n\n      return false;\n    }\n    /**\n     * Returns true if this object exists on the Server\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @returns {Promise<boolean>} A boolean promise that is fulfilled if object exists.\n     */\n\n  }, {\n    key: \"exists\",\n    value: function () {\n      var _exists = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(options\n      /*:: ?: RequestOptions*/\n      ) {\n        var query;\n        return _regenerator.default.wrap(function (_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.id) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", false);\n\n              case 2:\n                _context.prev = 2;\n                query = new _ParseQuery.default(this.className);\n                _context.next = 6;\n                return query.get(this.id, options);\n\n              case 6:\n                return _context.abrupt(\"return\", true);\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](2);\n\n                if (!(_context.t0.code === _ParseError.default.OBJECT_NOT_FOUND)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", false);\n\n              case 13:\n                throw _context.t0;\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 9]]);\n      }));\n\n      return function () {\n        return _exists.apply(this, arguments);\n      };\n    }()\n    /**\n     * Checks if the model is currently in a valid state.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isValid\",\n    value: function ()\n    /*: boolean*/\n    {\n      return !this.validate(this.attributes);\n    }\n    /**\n     * You should not call this function directly unless you subclass\n     * <code>Parse.Object</code>, in which case you can override this method\n     * to provide additional validation on <code>set</code> and\n     * <code>save</code>.  Your implementation should return\n     *\n     * @param {object} attrs The current data to validate.\n     * @returns {Parse.Error|boolean} False if the data is valid.  An error object otherwise.\n     * @see Parse.Object#set\n     */\n\n  }, {\n    key: \"validate\",\n    value: function (attrs\n    /*: AttributeMap*/\n    )\n    /*: ParseError | boolean*/\n    {\n      if (attrs.hasOwnProperty('ACL') && !(attrs.ACL instanceof _ParseACL.default)) {\n        return new _ParseError.default(_ParseError.default.OTHER_CAUSE, 'ACL must be a Parse ACL.');\n      }\n\n      for (var _key in attrs) {\n        if (!/^[A-Za-z][0-9A-Za-z_.]*$/.test(_key)) {\n          return new _ParseError.default(_ParseError.default.INVALID_KEY_NAME);\n        }\n      }\n\n      return false;\n    }\n    /**\n     * Returns the ACL for this object.\n     *\n     * @returns {Parse.ACL} An instance of Parse.ACL.\n     * @see Parse.Object#get\n     */\n\n  }, {\n    key: \"getACL\",\n    value: function ()\n    /*: ?ParseACL*/\n    {\n      var acl = this.get('ACL');\n\n      if (acl instanceof _ParseACL.default) {\n        return acl;\n      }\n\n      return null;\n    }\n    /**\n     * Sets the ACL to be used for this object.\n     *\n     * @param {Parse.ACL} acl An instance of Parse.ACL.\n     * @param {object} options\n     * @returns {(ParseObject | boolean)} Whether the set passed validation.\n     * @see Parse.Object#set\n     */\n\n  }, {\n    key: \"setACL\",\n    value: function (acl\n    /*: ParseACL*/\n    , options\n    /*:: ?: mixed*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set('ACL', acl, options);\n    }\n    /**\n     * Clears any (or specific) changes to this object made since the last call to save()\n     *\n     * @param {string} [keys] - specify which fields to revert\n     */\n\n  }, {\n    key: \"revert\",\n    value: function ()\n    /*: void*/\n    {\n      var keysToRevert;\n\n      for (var _len = arguments.length, keys = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n        keys[_key2] = arguments[_key2];\n      }\n\n      if (keys.length) {\n        keysToRevert = [];\n\n        var _iterator = _createForOfIteratorHelper(keys),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _key3 = _step.value;\n\n            if (typeof _key3 === 'string') {\n              keysToRevert.push(_key3);\n            } else {\n              throw new Error('Parse.Object#revert expects either no, or a list of string, arguments.');\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n\n      this._clearPendingOps(keysToRevert);\n    }\n    /**\n     * Clears all attributes on a model\n     *\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"clear\",\n    value: function ()\n    /*: ParseObject | boolean*/\n    {\n      var attributes = this.attributes;\n      var erasable = {};\n      var readonly = ['createdAt', 'updatedAt'];\n\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        readonly = (0, _concat.default)(readonly).call(readonly, this.constructor.readOnlyAttributes());\n      }\n\n      for (var _attr11 in attributes) {\n        if ((0, _indexOf.default)(readonly).call(readonly, _attr11) < 0) {\n          erasable[_attr11] = true;\n        }\n      }\n\n      return this.set(erasable, {\n        unset: true\n      });\n    }\n    /**\n     * Fetch the model from the server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden.\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>include: The name(s) of the key(s) to include. Can be a string, an array of strings,\n     *       or an array of array of strings.\n     *   <li>context: A dictionary that is accessible in Cloud Code `beforeFind` trigger.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n\n  }, {\n    key: \"fetch\",\n    value: function (options\n    /*: RequestOptions*/\n    )\n    /*: Promise*/\n    {\n      options = options || {};\n      var fetchOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        fetchOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        fetchOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        fetchOptions.context = options.context;\n      }\n\n      if (options.hasOwnProperty('include')) {\n        fetchOptions.include = [];\n\n        if ((0, _isArray.default)(options.include)) {\n          var _context2;\n\n          (0, _forEach.default)(_context2 = options.include).call(_context2, function (key) {\n            if ((0, _isArray.default)(key)) {\n              var _context3;\n\n              fetchOptions.include = (0, _concat.default)(_context3 = fetchOptions.include).call(_context3, key);\n            } else {\n              fetchOptions.include.push(key);\n            }\n          });\n        } else {\n          fetchOptions.include.push(options.include);\n        }\n      }\n\n      var controller = _CoreManager.default.getObjectController();\n\n      return controller.fetch(this, true, fetchOptions);\n    }\n    /**\n     * Fetch the model from the server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n\n  }, {\n    key: \"fetchWithInclude\",\n    value: function (keys\n    /*: String | Array<string | Array<string>>*/\n    , options\n    /*: RequestOptions*/\n    )\n    /*: Promise*/\n    {\n      options = options || {};\n      options.include = keys;\n      return this.fetch(options);\n    }\n    /**\n     * Saves this object to the server at some unspecified time in the future,\n     * even if Parse is currently inaccessible.\n     *\n     * Use this when you may not have a solid network connection, and don't need to know when the save completes.\n     * If there is some problem with the object such that it can't be saved, it will be silently discarded.\n     *\n     * Objects saved with this method will be stored locally in an on-disk cache until they can be delivered to Parse.\n     * They will be sent immediately if possible. Otherwise, they will be sent the next time a network connection is\n     * available. Objects saved this way will persist even after the app is closed, in which case they will be sent the\n     * next time the app is opened.\n     *\n     * @param {object} [options]\n     * Used to pass option parameters to method if arg1 and arg2 were both passed as strings.\n     * Valid options are:\n     * <ul>\n     * <li>sessionToken: A valid session token, used for making a request on\n     * behalf of a specific user.\n     * <li>cascadeSave: If `false`, nested objects will not be saved (default is `true`).\n     * <li>context: A dictionary that is accessible in Cloud Code `beforeSave` and `afterSave` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the save\n     * completes.\n     */\n\n  }, {\n    key: \"saveEventually\",\n    value: function () {\n      var _saveEventually = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(options\n      /*: SaveOptions*/\n      ) {\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return this.save(null, options);\n\n              case 3:\n                _context4.next = 11;\n                break;\n\n              case 5:\n                _context4.prev = 5;\n                _context4.t0 = _context4[\"catch\"](0);\n\n                if (!(_context4.t0.message === 'XMLHttpRequest failed: \"Unable to connect to the Parse API\"')) {\n                  _context4.next = 11;\n                  break;\n                }\n\n                _context4.next = 10;\n                return _EventuallyQueue.default.save(this, options);\n\n              case 10:\n                _EventuallyQueue.default.poll();\n\n              case 11:\n                return _context4.abrupt(\"return\", this);\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }));\n\n      return function () {\n        return _saveEventually.apply(this, arguments);\n      };\n    }()\n    /**\n     * Set a hash of model attributes, and save the model to the server.\n     * updatedAt will be updated when the request returns.\n     * You can either call it as:<pre>\n     * object.save();</pre>\n     * or<pre>\n     * object.save(attrs);</pre>\n     * or<pre>\n     * object.save(null, options);</pre>\n     * or<pre>\n     * object.save(attrs, options);</pre>\n     * or<pre>\n     * object.save(key, value, options);</pre>\n     *\n     * For example, <pre>\n     * gameTurn.save({\n     * player: \"Jake Cutter\",\n     * diceRoll: 2\n     * }).then(function(gameTurnAgain) {\n     * // The save was successful.\n     * }, function(error) {\n     * // The save failed.  Error is an instance of Parse.Error.\n     * });</pre>\n     *\n     * @param {string | object | null} [arg1]\n     * Valid options are:<ul>\n     * <li>`Object` - Key/value pairs to update on the object.</li>\n     * <li>`String` Key - Key of attribute to update (requires arg2 to also be string)</li>\n     * <li>`null` - Passing null for arg1 allows you to save the object with options passed in arg2.</li>\n     * </ul>\n     * @param {string | object} [arg2]\n     * <ul>\n     * <li>`String` Value - If arg1 was passed as a key, arg2 is the value that should be set on that key.</li>\n     * <li>`Object` Options - Valid options are:\n     * <ul>\n     * <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     * be used for this request.\n     * <li>sessionToken: A valid session token, used for making a request on\n     * behalf of a specific user.\n     * <li>cascadeSave: If `false`, nested objects will not be saved (default is `true`).\n     * <li>context: A dictionary that is accessible in Cloud Code `beforeSave` and `afterSave` triggers.\n     * </ul>\n     * </li>\n     * </ul>\n     * @param {object} [arg3]\n     * Used to pass option parameters to method if arg1 and arg2 were both passed as strings.\n     * Valid options are:\n     * <ul>\n     * <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     * be used for this request.\n     * <li>sessionToken: A valid session token, used for making a request on\n     * behalf of a specific user.\n     * <li>cascadeSave: If `false`, nested objects will not be saved (default is `true`).\n     * <li>context: A dictionary that is accessible in Cloud Code `beforeSave` and `afterSave` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the save\n     * completes.\n     */\n\n  }, {\n    key: \"save\",\n    value: function (arg1\n    /*: ?string | { [attr: string]: mixed }*/\n    , arg2\n    /*: SaveOptions | mixed*/\n    , arg3\n    /*:: ?: SaveOptions*/\n    )\n    /*: Promise*/\n    {\n      var _this = this;\n\n      var attrs;\n      var options;\n\n      if ((0, _typeof2.default)(arg1) === 'object' || typeof arg1 === 'undefined') {\n        attrs = arg1;\n\n        if ((0, _typeof2.default)(arg2) === 'object') {\n          options = arg2;\n        }\n      } else {\n        attrs = {};\n        attrs[arg1] = arg2;\n        options = arg3;\n      }\n\n      if (attrs) {\n        var validation = this.validate(attrs);\n\n        if (validation) {\n          return _promise.default.reject(validation);\n        }\n\n        this.set(attrs, options);\n      }\n\n      options = options || {};\n      var saveOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        saveOptions.useMasterKey = !!options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken') && typeof options.sessionToken === 'string') {\n        saveOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('installationId') && typeof options.installationId === 'string') {\n        saveOptions.installationId = options.installationId;\n      }\n\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        saveOptions.context = options.context;\n      }\n\n      var controller = _CoreManager.default.getObjectController();\n\n      var unsaved = options.cascadeSave !== false ? (0, _unsavedChildren.default)(this) : null;\n      return controller.save(unsaved, saveOptions).then(function () {\n        return controller.save(_this, saveOptions);\n      });\n    }\n    /**\n     * Deletes this object from the server at some unspecified time in the future,\n     * even if Parse is currently inaccessible.\n     *\n     * Use this when you may not have a solid network connection,\n     * and don't need to know when the delete completes. If there is some problem with the object\n     * such that it can't be deleted, the request will be silently discarded.\n     *\n     * Delete instructions made with this method will be stored locally in an on-disk cache until they can be transmitted\n     * to Parse. They will be sent immediately if possible. Otherwise, they will be sent the next time a network connection\n     * is available. Delete requests will persist even after the app is closed, in which case they will be sent the\n     * next time the app is opened.\n     *\n     * @param {object} [options]\n     * Valid options are:<ul>\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>context: A dictionary that is accessible in Cloud Code `beforeDelete` and `afterDelete` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the destroy\n     *     completes.\n     */\n\n  }, {\n    key: \"destroyEventually\",\n    value: function () {\n      var _destroyEventually = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(options\n      /*: RequestOptions*/\n      ) {\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return this.destroy(options);\n\n              case 3:\n                _context5.next = 11;\n                break;\n\n              case 5:\n                _context5.prev = 5;\n                _context5.t0 = _context5[\"catch\"](0);\n\n                if (!(_context5.t0.message === 'XMLHttpRequest failed: \"Unable to connect to the Parse API\"')) {\n                  _context5.next = 11;\n                  break;\n                }\n\n                _context5.next = 10;\n                return _EventuallyQueue.default.destroy(this, options);\n\n              case 10:\n                _EventuallyQueue.default.poll();\n\n              case 11:\n                return _context5.abrupt(\"return\", this);\n\n              case 12:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee3, this, [[0, 5]]);\n      }));\n\n      return function () {\n        return _destroyEventually.apply(this, arguments);\n      };\n    }()\n    /**\n     * Destroy this model on the server if it was already persisted.\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>context: A dictionary that is accessible in Cloud Code `beforeDelete` and `afterDelete` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the destroy\n     *     completes.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function (options\n    /*: RequestOptions*/\n    )\n    /*: Promise*/\n    {\n      options = options || {};\n      var destroyOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        destroyOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        destroyOptions.context = options.context;\n      }\n\n      if (!this.id) {\n        return _promise.default.resolve();\n      }\n\n      return _CoreManager.default.getObjectController().destroy(this, destroyOptions);\n    }\n    /**\n     * Asynchronously stores the object and every object it points to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await object.pin();\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPin()</code>\n     *\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     */\n\n  }, {\n    key: \"pin\",\n    value: function ()\n    /*: Promise<void>*/\n    {\n      return ParseObject.pinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, [this]);\n    }\n    /**\n     * Asynchronously removes the object and every object it points to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * <pre>\n     * await object.unPin();\n     * </pre>\n     *\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     */\n\n  }, {\n    key: \"unPin\",\n    value: function ()\n    /*: Promise<void>*/\n    {\n      return ParseObject.unPinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, [this]);\n    }\n    /**\n     * Asynchronously returns if the object is pinned\n     *\n     * <pre>\n     * const isPinned = await object.isPinned();\n     * </pre>\n     *\n     * @returns {Promise<boolean>} A boolean promise that is fulfilled if object is pinned.\n     */\n\n  }, {\n    key: \"isPinned\",\n    value: function () {\n      var _isPinned = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {\n        var localDatastore, objectKey, pin;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                localDatastore = _CoreManager.default.getLocalDatastore();\n\n                if (localDatastore.isEnabled) {\n                  _context6.next = 3;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", _promise.default.reject('Parse.enableLocalDatastore() must be called first'));\n\n              case 3:\n                objectKey = localDatastore.getKeyForObject(this);\n                _context6.next = 6;\n                return localDatastore.fromPinWithName(objectKey);\n\n              case 6:\n                pin = _context6.sent;\n                return _context6.abrupt(\"return\", pin.length > 0);\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function () {\n        return _isPinned.apply(this, arguments);\n      };\n    }()\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore, recursively.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await object.pinWithName(name);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPinWithName(name)</code>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     */\n\n  }, {\n    key: \"pinWithName\",\n    value: function (name\n    /*: string*/\n    )\n    /*: Promise<void>*/\n    {\n      return ParseObject.pinAllWithName(name, [this]);\n    }\n    /**\n     * Asynchronously removes the object and every object it points to in the local datastore, recursively.\n     *\n     * <pre>\n     * await object.unPinWithName(name);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     */\n\n  }, {\n    key: \"unPinWithName\",\n    value: function (name\n    /*: string*/\n    )\n    /*: Promise<void>*/\n    {\n      return ParseObject.unPinAllWithName(name, [this]);\n    }\n    /**\n     * Asynchronously loads data from the local datastore into this object.\n     *\n     * <pre>\n     * await object.fetchFromLocalDatastore();\n     * </pre>\n     *\n     * You can create an unfetched pointer with <code>Parse.Object.createWithoutData()</code>\n     * and then call <code>fetchFromLocalDatastore()</code> on it.\n     *\n     * @returns {Promise} A promise that is fulfilled when the fetch completes.\n     */\n\n  }, {\n    key: \"fetchFromLocalDatastore\",\n    value: function () {\n      var _fetchFromLocalDatastore = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {\n        var localDatastore, objectKey, pinned, result;\n        return _regenerator.default.wrap(function (_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                localDatastore = _CoreManager.default.getLocalDatastore();\n\n                if (localDatastore.isEnabled) {\n                  _context7.next = 3;\n                  break;\n                }\n\n                throw new Error('Parse.enableLocalDatastore() must be called first');\n\n              case 3:\n                objectKey = localDatastore.getKeyForObject(this);\n                _context7.next = 6;\n                return localDatastore._serializeObject(objectKey);\n\n              case 6:\n                pinned = _context7.sent;\n\n                if (pinned) {\n                  _context7.next = 9;\n                  break;\n                }\n\n                throw new Error('Cannot fetch an unsaved ParseObject');\n\n              case 9:\n                result = ParseObject.fromJSON(pinned);\n\n                this._finishFetch(result.toJSON());\n\n                return _context7.abrupt(\"return\", this);\n\n              case 12:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      return function () {\n        return _fetchFromLocalDatastore.apply(this, arguments);\n      };\n    }()\n    /** Static methods **/\n\n  }], [{\n    key: \"_clearAllState\",\n    value: function () {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      stateController.clearAllState();\n    }\n    /**\n     * Fetches the given list of Parse.Object.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAll([object1, object2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>include: The name(s) of the key(s) to include. Can be a string, an array of strings,\n     *       or an array of array of strings.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n\n  }, {\n    key: \"fetchAll\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    ) {\n      var options\n      /*: RequestOptions*/\n      = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var queryOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        queryOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        queryOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('include')) {\n        queryOptions.include = ParseObject.handleIncludeOptions(options);\n      }\n\n      return _CoreManager.default.getObjectController().fetch(list, true, queryOptions);\n    }\n    /**\n     * Fetches the given list of Parse.Object.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllWithInclude([object1, object2, ...], [pointer1, pointer2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n\n  }, {\n    key: \"fetchAllWithInclude\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    , keys\n    /*: String | Array<string | Array<string>>*/\n    , options\n    /*: RequestOptions*/\n    ) {\n      options = options || {};\n      options.include = keys;\n      return ParseObject.fetchAll(list, options);\n    }\n    /**\n     * Fetches the given list of Parse.Object if needed.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllIfNeededWithInclude([object1, object2, ...], [pointer1, pointer2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n\n  }, {\n    key: \"fetchAllIfNeededWithInclude\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    , keys\n    /*: String | Array<string | Array<string>>*/\n    , options\n    /*: RequestOptions*/\n    ) {\n      options = options || {};\n      options.include = keys;\n      return ParseObject.fetchAllIfNeeded(list, options);\n    }\n    /**\n     * Fetches the given list of Parse.Object if needed.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllIfNeeded([object1, ...])\n     *    .then((list) => {\n     *      // Objects were fetched and updated.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Parse.Object[]}\n     */\n\n  }, {\n    key: \"fetchAllIfNeeded\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    , options) {\n      options = options || {};\n      var queryOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        queryOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        queryOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('include')) {\n        queryOptions.include = ParseObject.handleIncludeOptions(options);\n      }\n\n      return _CoreManager.default.getObjectController().fetch(list, false, queryOptions);\n    }\n  }, {\n    key: \"handleIncludeOptions\",\n    value: function (options) {\n      var include = [];\n\n      if ((0, _isArray.default)(options.include)) {\n        var _context8;\n\n        (0, _forEach.default)(_context8 = options.include).call(_context8, function (key) {\n          if ((0, _isArray.default)(key)) {\n            include = (0, _concat.default)(include).call(include, key);\n          } else {\n            include.push(key);\n          }\n        });\n      } else {\n        include.push(options.include);\n      }\n\n      return include;\n    }\n    /**\n     * Destroy the given list of models on the server if it was already persisted.\n     *\n     * <p>Unlike saveAll, if an error occurs while deleting an individual model,\n     * this method will continue trying to delete the rest of the models if\n     * possible, except in the case of a fatal error like a connection error.\n     *\n     * <p>In particular, the Parse.Error object returned in the case of error may\n     * be one of two types:\n     *\n     * <ul>\n     * <li>A Parse.Error.AGGREGATE_ERROR. This object's \"errors\" property is an\n     * array of other Parse.Error objects. Each error object in this array\n     * has an \"object\" property that references the object that could not be\n     * deleted (for instance, because that object could not be found).</li>\n     * <li>A non-aggregate Parse.Error. This indicates a serious error that\n     * caused the delete operation to be aborted partway through (for\n     * instance, a connection failure in the middle of the delete).</li>\n     * </ul>\n     *\n     * <pre>\n     * Parse.Object.destroyAll([object1, object2, ...])\n     * .then((list) => {\n     * // All the objects were deleted.\n     * }, (error) => {\n     * // An error occurred while deleting one or more of the objects.\n     * // If this is an aggregate error, then we can inspect each error\n     * // object individually to determine the reason why a particular\n     * // object was not deleted.\n     * if (error.code === Parse.Error.AGGREGATE_ERROR) {\n     * for (var i = 0; i < error.errors.length; i++) {\n     * console.log(\"Couldn't delete \" + error.errors[i].object.id +\n     * \"due to \" + error.errors[i].message);\n     * }\n     * } else {\n     * console.log(\"Delete aborted because of \" + error.message);\n     * }\n     * });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Promise} A promise that is fulfilled when the destroyAll\n     * completes.\n     */\n\n  }, {\n    key: \"destroyAll\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    ) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var destroyOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        destroyOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('batchSize') && typeof options.batchSize === 'number') {\n        destroyOptions.batchSize = options.batchSize;\n      }\n\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        destroyOptions.context = options.context;\n      }\n\n      return _CoreManager.default.getObjectController().destroy(list, destroyOptions);\n    }\n    /**\n     * Saves the given list of Parse.Object.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     * Parse.Object.saveAll([object1, object2, ...])\n     * .then((list) => {\n     * // All the objects were saved.\n     * }, (error) => {\n     * // An error occurred while saving one of the objects.\n     * });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Parse.Object[]}\n     */\n\n  }, {\n    key: \"saveAll\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    ) {\n      var options\n      /*: RequestOptions*/\n      = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var saveOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        saveOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        saveOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('batchSize') && typeof options.batchSize === 'number') {\n        saveOptions.batchSize = options.batchSize;\n      }\n\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        saveOptions.context = options.context;\n      }\n\n      return _CoreManager.default.getObjectController().save(list, saveOptions);\n    }\n    /**\n     * Creates a reference to a subclass of Parse.Object with the given id. This\n     * does not exist on Parse.Object, only on subclasses.\n     *\n     * <p>A shortcut for: <pre>\n     *  var Foo = Parse.Object.extend(\"Foo\");\n     *  var pointerToFoo = new Foo();\n     *  pointerToFoo.id = \"myObjectId\";\n     * </pre>\n     *\n     * @param {string} id The ID of the object to create a reference to.\n     * @static\n     * @returns {Parse.Object} A Parse.Object reference.\n     */\n\n  }, {\n    key: \"createWithoutData\",\n    value: function (id\n    /*: string*/\n    ) {\n      var obj = new this();\n      obj.id = id;\n      return obj;\n    }\n    /**\n     * Creates a new instance of a Parse Object from a JSON representation.\n     *\n     * @param {object} json The JSON map of the Object's data\n     * @param {boolean} override In single instance mode, all old server data\n     *   is overwritten if this is set to true\n     * @param {boolean} dirty Whether the Parse.Object should set JSON keys to dirty\n     * @static\n     * @returns {Parse.Object} A Parse.Object reference\n     */\n\n  }, {\n    key: \"fromJSON\",\n    value: function (json\n    /*: any*/\n    , override\n    /*:: ?: boolean*/\n    , dirty\n    /*:: ?: boolean*/\n    ) {\n      if (!json.className) {\n        throw new Error('Cannot create an object without a className');\n      }\n\n      var constructor = classMap[json.className];\n      var o = constructor ? new constructor() : new ParseObject(json.className);\n      var otherAttributes = {};\n\n      for (var _attr12 in json) {\n        if (_attr12 !== 'className' && _attr12 !== '__type') {\n          otherAttributes[_attr12] = json[_attr12];\n\n          if (dirty) {\n            o.set(_attr12, json[_attr12]);\n          }\n        }\n      }\n\n      if (override) {\n        // id needs to be set before clearServerData can work\n        if (otherAttributes.objectId) {\n          o.id = otherAttributes.objectId;\n        }\n\n        var preserved = null;\n\n        if (typeof o._preserveFieldsOnFetch === 'function') {\n          preserved = o._preserveFieldsOnFetch();\n        }\n\n        o._clearServerData();\n\n        if (preserved) {\n          o._finishFetch(preserved);\n        }\n      }\n\n      o._finishFetch(otherAttributes);\n\n      if (json.objectId) {\n        o._setExisted(true);\n      }\n\n      return o;\n    }\n    /**\n     * Registers a subclass of Parse.Object with a specific class name.\n     * When objects of that class are retrieved from a query, they will be\n     * instantiated with this subclass.\n     * This is only necessary when using ES6 subclassing.\n     *\n     * @param {string} className The class name of the subclass\n     * @param {Function} constructor The subclass\n     */\n\n  }, {\n    key: \"registerSubclass\",\n    value: function (className\n    /*: string*/\n    , constructor\n    /*: any*/\n    ) {\n      if (typeof className !== 'string') {\n        throw new TypeError('The first argument must be a valid class name.');\n      }\n\n      if (typeof constructor === 'undefined') {\n        throw new TypeError('You must supply a subclass constructor.');\n      }\n\n      if (typeof constructor !== 'function') {\n        throw new TypeError('You must register the subclass constructor. ' + 'Did you attempt to register an instance of the subclass?');\n      }\n\n      classMap[className] = constructor;\n\n      if (!constructor.className) {\n        constructor.className = className;\n      }\n    }\n    /**\n     * Creates a new subclass of Parse.Object for the given Parse class name.\n     *\n     * <p>Every extension of a Parse class will inherit from the most recent\n     * previous extension of that class. When a Parse.Object is automatically\n     * created by parsing JSON, it will use the most recent extension of that\n     * class.</p>\n     *\n     * <p>You should call either:<pre>\n     *     var MyClass = Parse.Object.extend(\"MyClass\", {\n     *         <i>Instance methods</i>,\n     *         initialize: function(attrs, options) {\n     *             this.someInstanceProperty = [],\n     *             <i>Other instance properties</i>\n     *         }\n     *     }, {\n     *         <i>Class properties</i>\n     *     });</pre>\n     * or, for Backbone compatibility:<pre>\n     *     var MyClass = Parse.Object.extend({\n     *         className: \"MyClass\",\n     *         <i>Instance methods</i>,\n     *         initialize: function(attrs, options) {\n     *             this.someInstanceProperty = [],\n     *             <i>Other instance properties</i>\n     *         }\n     *     }, {\n     *         <i>Class properties</i>\n     *     });</pre></p>\n     *\n     * @param {string} className The name of the Parse class backing this model.\n     * @param {object} protoProps Instance properties to add to instances of the\n     *     class returned from this method.\n     * @param {object} classProps Class properties to add the class returned from\n     *     this method.\n     * @returns {Parse.Object} A new subclass of Parse.Object.\n     */\n\n  }, {\n    key: \"extend\",\n    value: function (className\n    /*: any*/\n    , protoProps\n    /*: any*/\n    , classProps\n    /*: any*/\n    ) {\n      if (typeof className !== 'string') {\n        if (className && typeof className.className === 'string') {\n          return ParseObject.extend(className.className, className, protoProps);\n        } else {\n          throw new Error(\"Parse.Object.extend's first argument should be the className.\");\n        }\n      }\n\n      var adjustedClassName = className;\n\n      if (adjustedClassName === 'User' && _CoreManager.default.get('PERFORM_USER_REWRITE')) {\n        adjustedClassName = '_User';\n      }\n\n      var parentProto = ParseObject.prototype;\n\n      if (this.hasOwnProperty('__super__') && this.__super__) {\n        parentProto = this.prototype;\n      } else if (classMap[adjustedClassName]) {\n        parentProto = classMap[adjustedClassName].prototype;\n      }\n\n      var ParseObjectSubclass = function (attributes, options) {\n        this.className = adjustedClassName;\n        this._objCount = objectCount++; // Enable legacy initializers\n\n        if (typeof this.initialize === 'function') {\n          this.initialize.apply(this, arguments);\n        }\n\n        if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n          if (!this.set(attributes || {}, options)) {\n            throw new Error(\"Can't create an invalid Parse Object\");\n          }\n        }\n      };\n\n      ParseObjectSubclass.className = adjustedClassName;\n      ParseObjectSubclass.__super__ = parentProto;\n      ParseObjectSubclass.prototype = (0, _create.default)(parentProto, {\n        constructor: {\n          value: ParseObjectSubclass,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n\n      if (protoProps) {\n        for (var prop in protoProps) {\n          if (prop !== 'className') {\n            (0, _defineProperty2.default)(ParseObjectSubclass.prototype, prop, {\n              value: protoProps[prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n\n      if (classProps) {\n        for (var _prop in classProps) {\n          if (_prop !== 'className') {\n            (0, _defineProperty2.default)(ParseObjectSubclass, _prop, {\n              value: classProps[_prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n\n      ParseObjectSubclass.extend = function (name, protoProps, classProps) {\n        if (typeof name === 'string') {\n          return ParseObject.extend.call(ParseObjectSubclass, name, protoProps, classProps);\n        }\n\n        return ParseObject.extend.call(ParseObjectSubclass, adjustedClassName, name, protoProps);\n      };\n\n      ParseObjectSubclass.createWithoutData = ParseObject.createWithoutData;\n      classMap[adjustedClassName] = ParseObjectSubclass;\n      return ParseObjectSubclass;\n    }\n    /**\n     * Enable single instance objects, where any local objects with the same Id\n     * share the same attributes, and stay synchronized with each other.\n     * This is disabled by default in server environments, since it can lead to\n     * security issues.\n     *\n     * @static\n     */\n\n  }, {\n    key: \"enableSingleInstance\",\n    value: function () {\n      singleInstance = true;\n\n      _CoreManager.default.setObjectStateController(SingleInstanceStateController);\n    }\n    /**\n     * Disable single instance objects, where any local objects with the same Id\n     * share the same attributes, and stay synchronized with each other.\n     * When disabled, you can have two instances of the same object in memory\n     * without them sharing attributes.\n     *\n     * @static\n     */\n\n  }, {\n    key: \"disableSingleInstance\",\n    value: function () {\n      singleInstance = false;\n\n      _CoreManager.default.setObjectStateController(UniqueInstanceStateController);\n    }\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await Parse.Object.pinAll([...]);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPin()</code>\n     *\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     * @static\n     */\n\n  }, {\n    key: \"pinAll\",\n    value: function (objects\n    /*: Array<ParseObject>*/\n    )\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return ParseObject.pinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, objects);\n    }\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore, recursively.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await Parse.Object.pinAllWithName(name, [obj1, obj2, ...]);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPinWithName(name)</code>\n     *\n     * @param {string} name Name of Pin.\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     * @static\n     */\n\n  }, {\n    key: \"pinAllWithName\",\n    value: function (name\n    /*: string*/\n    , objects\n    /*: Array<ParseObject>*/\n    )\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return localDatastore._handlePinAllWithName(name, objects);\n    }\n    /**\n     * Asynchronously removes the objects and every object they point to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * <pre>\n     * await Parse.Object.unPinAll([...]);\n     * </pre>\n     *\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n\n  }, {\n    key: \"unPinAll\",\n    value: function (objects\n    /*: Array<ParseObject>*/\n    )\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return ParseObject.unPinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, objects);\n    }\n    /**\n     * Asynchronously removes the objects and every object they point to in the local datastore, recursively.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllWithName(name, [obj1, obj2, ...]);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n\n  }, {\n    key: \"unPinAllWithName\",\n    value: function (name\n    /*: string*/\n    , objects\n    /*: Array<ParseObject>*/\n    )\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return localDatastore._handleUnPinAllWithName(name, objects);\n    }\n    /**\n     * Asynchronously removes all objects in the local datastore using a default pin name: _default.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllObjects();\n     * </pre>\n     *\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n\n  }, {\n    key: \"unPinAllObjects\",\n    value: function ()\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return localDatastore.unPinWithName(_LocalDatastoreUtils.DEFAULT_PIN);\n    }\n    /**\n     * Asynchronously removes all objects with the specified pin name.\n     * Deletes the pin name also.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllObjectsWithName(name);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n\n  }, {\n    key: \"unPinAllObjectsWithName\",\n    value: function (name\n    /*: string*/\n    )\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return localDatastore.unPinWithName(_LocalDatastoreUtils.PIN_PREFIX + name);\n    }\n  }]);\n  return ParseObject;\n}();\n\nvar DefaultController = {\n  fetch: function (target\n  /*: ParseObject | Array<ParseObject>*/\n  , forceFetch\n  /*: boolean*/\n  , options\n  /*: RequestOptions*/\n  )\n  /*: Promise<Array<void> | ParseObject>*/\n  {\n    var localDatastore = _CoreManager.default.getLocalDatastore();\n\n    if ((0, _isArray.default)(target)) {\n      if (target.length < 1) {\n        return _promise.default.resolve([]);\n      }\n\n      var objs = [];\n      var ids = [];\n      var className = null;\n      var results = [];\n      var error = null;\n      (0, _forEach.default)(target).call(target, function (el) {\n        if (error) {\n          return;\n        }\n\n        if (!className) {\n          className = el.className;\n        }\n\n        if (className !== el.className) {\n          error = new _ParseError.default(_ParseError.default.INVALID_CLASS_NAME, 'All objects should be of the same class');\n        }\n\n        if (!el.id) {\n          error = new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'All objects must have an ID');\n        }\n\n        if (forceFetch || !el.isDataAvailable()) {\n          ids.push(el.id);\n          objs.push(el);\n        }\n\n        results.push(el);\n      });\n\n      if (error) {\n        return _promise.default.reject(error);\n      }\n\n      var query = new _ParseQuery.default(className);\n      query.containedIn('objectId', ids);\n\n      if (options && options.include) {\n        query.include(options.include);\n      }\n\n      query._limit = ids.length;\n      return (0, _find.default)(query).call(query, options).then( /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(objects) {\n          var idMap, i, obj, _i, _obj, id, _iterator2, _step2, object;\n\n          return _regenerator.default.wrap(function (_context9) {\n            while (1) {\n              switch (_context9.prev = _context9.next) {\n                case 0:\n                  idMap = {};\n                  (0, _forEach.default)(objects).call(objects, function (o) {\n                    idMap[o.id] = o;\n                  });\n                  i = 0;\n\n                case 3:\n                  if (!(i < objs.length)) {\n                    _context9.next = 11;\n                    break;\n                  }\n\n                  obj = objs[i];\n\n                  if (!(!obj || !obj.id || !idMap[obj.id])) {\n                    _context9.next = 8;\n                    break;\n                  }\n\n                  if (!forceFetch) {\n                    _context9.next = 8;\n                    break;\n                  }\n\n                  return _context9.abrupt(\"return\", _promise.default.reject(new _ParseError.default(_ParseError.default.OBJECT_NOT_FOUND, 'All objects must exist on the server.')));\n\n                case 8:\n                  i++;\n                  _context9.next = 3;\n                  break;\n\n                case 11:\n                  if (!singleInstance) {\n                    // If single instance objects are disabled, we need to replace the\n                    for (_i = 0; _i < results.length; _i++) {\n                      _obj = results[_i];\n\n                      if (_obj && _obj.id && idMap[_obj.id]) {\n                        id = _obj.id;\n\n                        _obj._finishFetch(idMap[id].toJSON());\n\n                        results[_i] = idMap[id];\n                      }\n                    }\n                  }\n\n                  _iterator2 = _createForOfIteratorHelper(results);\n                  _context9.prev = 13;\n\n                  _iterator2.s();\n\n                case 15:\n                  if ((_step2 = _iterator2.n()).done) {\n                    _context9.next = 21;\n                    break;\n                  }\n\n                  object = _step2.value;\n                  _context9.next = 19;\n                  return localDatastore._updateObjectIfPinned(object);\n\n                case 19:\n                  _context9.next = 15;\n                  break;\n\n                case 21:\n                  _context9.next = 26;\n                  break;\n\n                case 23:\n                  _context9.prev = 23;\n                  _context9.t0 = _context9[\"catch\"](13);\n\n                  _iterator2.e(_context9.t0);\n\n                case 26:\n                  _context9.prev = 26;\n\n                  _iterator2.f();\n\n                  return _context9.finish(26);\n\n                case 29:\n                  return _context9.abrupt(\"return\", _promise.default.resolve(results));\n\n                case 30:\n                case \"end\":\n                  return _context9.stop();\n              }\n            }\n          }, _callee6, null, [[13, 23, 26, 29]]);\n        }));\n\n        return function () {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } else if (target instanceof ParseObject) {\n      if (!target.id) {\n        return _promise.default.reject(new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'Object does not have an ID'));\n      }\n\n      var RESTController = _CoreManager.default.getRESTController();\n\n      var params = {};\n\n      if (options && options.include) {\n        params.include = options.include.join();\n      }\n\n      return RESTController.request('GET', 'classes/' + target.className + '/' + target._getId(), params, options).then( /*#__PURE__*/function () {\n        var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(response) {\n          return _regenerator.default.wrap(function (_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  target._clearPendingOps();\n\n                  target._clearServerData();\n\n                  target._finishFetch(response);\n\n                  _context10.next = 5;\n                  return localDatastore._updateObjectIfPinned(target);\n\n                case 5:\n                  return _context10.abrupt(\"return\", target);\n\n                case 6:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee7);\n        }));\n\n        return function () {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n\n    return _promise.default.resolve();\n  },\n  destroy: function (target\n  /*: ParseObject | Array<ParseObject>*/\n  , options\n  /*: RequestOptions*/\n  )\n  /*: Promise<Array<void> | ParseObject>*/\n  {\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10() {\n      var batchSize, localDatastore, RESTController, batches, deleteCompleted, errors;\n      return _regenerator.default.wrap(function (_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              batchSize = options && options.batchSize ? options.batchSize : _CoreManager.default.get('REQUEST_BATCH_SIZE');\n              localDatastore = _CoreManager.default.getLocalDatastore();\n              RESTController = _CoreManager.default.getRESTController();\n\n              if (!(0, _isArray.default)(target)) {\n                _context13.next = 15;\n                break;\n              }\n\n              if (!(target.length < 1)) {\n                _context13.next = 6;\n                break;\n              }\n\n              return _context13.abrupt(\"return\", _promise.default.resolve([]));\n\n            case 6:\n              batches = [[]];\n              (0, _forEach.default)(target).call(target, function (obj) {\n                if (!obj.id) {\n                  return;\n                }\n\n                batches[batches.length - 1].push(obj);\n\n                if (batches[batches.length - 1].length >= batchSize) {\n                  batches.push([]);\n                }\n              });\n\n              if (batches[batches.length - 1].length === 0) {\n                // If the last batch is empty, remove it\n                batches.pop();\n              }\n\n              deleteCompleted = _promise.default.resolve();\n              errors = [];\n              (0, _forEach.default)(batches).call(batches, function (batch) {\n                deleteCompleted = deleteCompleted.then(function () {\n                  return RESTController.request('POST', 'batch', {\n                    requests: (0, _map.default)(batch).call(batch, function (obj) {\n                      return {\n                        method: 'DELETE',\n                        path: getServerUrlPath() + 'classes/' + obj.className + '/' + obj._getId(),\n                        body: {}\n                      };\n                    })\n                  }, options).then(function (results) {\n                    for (var i = 0; i < results.length; i++) {\n                      if (results[i] && results[i].hasOwnProperty('error')) {\n                        var _err = new _ParseError.default(results[i].error.code, results[i].error.error);\n\n                        _err.object = batch[i];\n                        errors.push(_err);\n                      }\n                    }\n                  });\n                });\n              });\n              return _context13.abrupt(\"return\", deleteCompleted.then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n                var aggregate, _iterator3, _step3, object;\n\n                return _regenerator.default.wrap(function (_context11) {\n                  while (1) {\n                    switch (_context11.prev = _context11.next) {\n                      case 0:\n                        if (!errors.length) {\n                          _context11.next = 4;\n                          break;\n                        }\n\n                        aggregate = new _ParseError.default(_ParseError.default.AGGREGATE_ERROR);\n                        aggregate.errors = errors;\n                        return _context11.abrupt(\"return\", _promise.default.reject(aggregate));\n\n                      case 4:\n                        _iterator3 = _createForOfIteratorHelper(target);\n                        _context11.prev = 5;\n\n                        _iterator3.s();\n\n                      case 7:\n                        if ((_step3 = _iterator3.n()).done) {\n                          _context11.next = 13;\n                          break;\n                        }\n\n                        object = _step3.value;\n                        _context11.next = 11;\n                        return localDatastore._destroyObjectIfPinned(object);\n\n                      case 11:\n                        _context11.next = 7;\n                        break;\n\n                      case 13:\n                        _context11.next = 18;\n                        break;\n\n                      case 15:\n                        _context11.prev = 15;\n                        _context11.t0 = _context11[\"catch\"](5);\n\n                        _iterator3.e(_context11.t0);\n\n                      case 18:\n                        _context11.prev = 18;\n\n                        _iterator3.f();\n\n                        return _context11.finish(18);\n\n                      case 21:\n                        return _context11.abrupt(\"return\", _promise.default.resolve(target));\n\n                      case 22:\n                      case \"end\":\n                        return _context11.stop();\n                    }\n                  }\n                }, _callee8, null, [[5, 15, 18, 21]]);\n              }))));\n\n            case 15:\n              if (!(target instanceof ParseObject)) {\n                _context13.next = 17;\n                break;\n              }\n\n              return _context13.abrupt(\"return\", RESTController.request('DELETE', 'classes/' + target.className + '/' + target._getId(), {}, options).then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9() {\n                return _regenerator.default.wrap(function (_context12) {\n                  while (1) {\n                    switch (_context12.prev = _context12.next) {\n                      case 0:\n                        _context12.next = 2;\n                        return localDatastore._destroyObjectIfPinned(target);\n\n                      case 2:\n                        return _context12.abrupt(\"return\", _promise.default.resolve(target));\n\n                      case 3:\n                      case \"end\":\n                        return _context12.stop();\n                    }\n                  }\n                }, _callee9);\n              }))));\n\n            case 17:\n              return _context13.abrupt(\"return\", _promise.default.resolve(target));\n\n            case 18:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee10);\n    }))();\n  },\n  save: function (target\n  /*: ParseObject | Array<ParseObject | ParseFile>*/\n  , options\n  /*: RequestOptions*/\n  ) {\n    var batchSize = options && options.batchSize ? options.batchSize : _CoreManager.default.get('REQUEST_BATCH_SIZE');\n\n    var localDatastore = _CoreManager.default.getLocalDatastore();\n\n    var mapIdForPin = {};\n\n    var RESTController = _CoreManager.default.getRESTController();\n\n    var stateController = _CoreManager.default.getObjectStateController();\n\n    var allowCustomObjectId = _CoreManager.default.get('ALLOW_CUSTOM_OBJECT_ID');\n\n    options = options || {};\n    options.returnStatus = options.returnStatus || true;\n\n    if ((0, _isArray.default)(target)) {\n      if (target.length < 1) {\n        return _promise.default.resolve([]);\n      }\n\n      var unsaved = (0, _concat.default)(target).call(target);\n\n      for (var i = 0; i < target.length; i++) {\n        if (target[i] instanceof ParseObject) {\n          unsaved = (0, _concat.default)(unsaved).call(unsaved, (0, _unsavedChildren.default)(target[i], true));\n        }\n      }\n\n      unsaved = (0, _unique.default)(unsaved);\n      var filesSaved\n      /*: Array<ParseFile>*/\n      = [];\n      var pending\n      /*: Array<ParseObject>*/\n      = [];\n      (0, _forEach.default)(unsaved).call(unsaved, function (el) {\n        if (el instanceof _ParseFile.default) {\n          filesSaved.push(el.save(options));\n        } else if (el instanceof ParseObject) {\n          if (allowCustomObjectId && !el.id) {\n            throw new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'objectId must not be empty, null or undefined');\n          }\n\n          pending.push(el);\n        }\n      });\n      return _promise.default.all(filesSaved).then(function () {\n        var objectError = null;\n        return (0, _promiseUtils.continueWhile)(function () {\n          return pending.length > 0;\n        }, function () {\n          var batch = [];\n          var nextPending = [];\n          (0, _forEach.default)(pending).call(pending, function (el) {\n            if (batch.length < batchSize && (0, _canBeSerialized.default)(el)) {\n              batch.push(el);\n            } else {\n              nextPending.push(el);\n            }\n          });\n          pending = nextPending;\n\n          if (batch.length < 1) {\n            return _promise.default.reject(new _ParseError.default(_ParseError.default.OTHER_CAUSE, 'Tried to save a batch with a cycle.'));\n          } // Queue up tasks for each object in the batch.\n          // When every task is ready, the API request will execute\n\n\n          var batchReturned = new _promiseUtils.resolvingPromise();\n          var batchReady = [];\n          var batchTasks = [];\n          (0, _forEach.default)(batch).call(batch, function (obj, index) {\n            var ready = new _promiseUtils.resolvingPromise();\n            batchReady.push(ready);\n            stateController.pushPendingState(obj._getStateIdentifier());\n            batchTasks.push(stateController.enqueueTask(obj._getStateIdentifier(), function () {\n              ready.resolve();\n              return batchReturned.then(function (responses) {\n                if (responses[index].hasOwnProperty('success')) {\n                  var objectId = responses[index].success.objectId;\n                  var status = responses[index]._status;\n                  delete responses[index]._status;\n                  mapIdForPin[objectId] = obj._localId;\n\n                  obj._handleSaveResponse(responses[index].success, status);\n                } else {\n                  if (!objectError && responses[index].hasOwnProperty('error')) {\n                    var serverError = responses[index].error;\n                    objectError = new _ParseError.default(serverError.code, serverError.error); // Cancel the rest of the save\n\n                    pending = [];\n                  }\n\n                  obj._handleSaveError();\n                }\n              });\n            }));\n          });\n          (0, _promiseUtils.when)(batchReady).then(function () {\n            // Kick off the batch request\n            return RESTController.request('POST', 'batch', {\n              requests: (0, _map.default)(batch).call(batch, function (obj) {\n                var params = obj._getSaveParams();\n\n                params.path = getServerUrlPath() + params.path;\n                return params;\n              })\n            }, options);\n          }).then(batchReturned.resolve, function (error) {\n            batchReturned.reject(new _ParseError.default(_ParseError.default.INCORRECT_TYPE, error.message));\n          });\n          return (0, _promiseUtils.when)(batchTasks);\n        }).then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee11() {\n          var _iterator4, _step4, object;\n\n          return _regenerator.default.wrap(function (_context14) {\n            while (1) {\n              switch (_context14.prev = _context14.next) {\n                case 0:\n                  if (!objectError) {\n                    _context14.next = 2;\n                    break;\n                  }\n\n                  return _context14.abrupt(\"return\", _promise.default.reject(objectError));\n\n                case 2:\n                  _iterator4 = _createForOfIteratorHelper(target);\n                  _context14.prev = 3;\n\n                  _iterator4.s();\n\n                case 5:\n                  if ((_step4 = _iterator4.n()).done) {\n                    _context14.next = 13;\n                    break;\n                  }\n\n                  object = _step4.value;\n                  _context14.next = 9;\n                  return localDatastore._updateLocalIdForObject(mapIdForPin[object.id], object);\n\n                case 9:\n                  _context14.next = 11;\n                  return localDatastore._updateObjectIfPinned(object);\n\n                case 11:\n                  _context14.next = 5;\n                  break;\n\n                case 13:\n                  _context14.next = 18;\n                  break;\n\n                case 15:\n                  _context14.prev = 15;\n                  _context14.t0 = _context14[\"catch\"](3);\n\n                  _iterator4.e(_context14.t0);\n\n                case 18:\n                  _context14.prev = 18;\n\n                  _iterator4.f();\n\n                  return _context14.finish(18);\n\n                case 21:\n                  return _context14.abrupt(\"return\", _promise.default.resolve(target));\n\n                case 22:\n                case \"end\":\n                  return _context14.stop();\n              }\n            }\n          }, _callee11, null, [[3, 15, 18, 21]]);\n        })));\n      });\n    } else if (target instanceof ParseObject) {\n      if (allowCustomObjectId && !target.id) {\n        throw new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'objectId must not be empty, null or undefined');\n      } // generate _localId in case if cascadeSave=false\n\n\n      target._getId();\n\n      var localId = target._localId; // copying target lets Flow guarantee the pointer isn't modified elsewhere\n\n      var targetCopy = target;\n\n      var task = function () {\n        var params = targetCopy._getSaveParams();\n\n        return RESTController.request(params.method, params.path, params.body, options).then(function (response) {\n          var status = response._status;\n          delete response._status;\n\n          targetCopy._handleSaveResponse(response, status);\n        }, function (error) {\n          targetCopy._handleSaveError();\n\n          return _promise.default.reject(error);\n        });\n      };\n\n      stateController.pushPendingState(target._getStateIdentifier());\n      return stateController.enqueueTask(target._getStateIdentifier(), task).then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee12() {\n        return _regenerator.default.wrap(function (_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.next = 2;\n                return localDatastore._updateLocalIdForObject(localId, target);\n\n              case 2:\n                _context15.next = 4;\n                return localDatastore._updateObjectIfPinned(target);\n\n              case 4:\n                return _context15.abrupt(\"return\", target);\n\n              case 5:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee12);\n      })), function (error) {\n        return _promise.default.reject(error);\n      });\n    }\n\n    return _promise.default.resolve();\n  }\n};\n\n_CoreManager.default.setObjectController(DefaultController);\n\nvar _default = ParseObject;\nexports.default = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}